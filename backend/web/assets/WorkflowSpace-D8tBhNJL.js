import{I as A,c as t,W as D,l as c,ab as F,a2 as x,aa as M,a8 as R,a9 as Z,w as $,N as s,b as r,f as W,g as o,G as u,y as i,T as k,A as f,z as E,F as G,C as P,a4 as q,Z as J,n as O}from"./index-BK2R8M7z.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{U as X}from"./User-VbjBdgmL.js";const Y=A("home",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M9 42H39",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),ee={class:"space-container"},te={__name:"WorkflowSpace",setup(e){const{t:d}=D(),y=c(!1),I=F(),{language:L}=x(I),v=M(),{userFastAccessWorkflows:K}=x(v),g=R(),b=Z(),m=c(g.params.workflowId);$(g,w=>{m.value=w.params.workflowId,_.value=[w.params.workflowId]});const _=c([m.value]),h=c(["user-workflows"]),U=c(1);c();const V=async w=>{const n=await q("create",{title:d("workspace.workflowSpace.new_workflow")+U.value,language:L.value});if(n.status!=200){J.error(n.msg);return}const a=n.data;a.update_time=new Date(a.update_time).toLocaleString(),a.create_time=new Date(a.create_time).toLocaleString(),v.addUserWorkflow(a),O(()=>{_.value=[a.wid],b.push(`/workflow/editor/${a.wid}`)})};return(w,n)=>{const a=s("a-skeleton"),S=s("router-link"),p=s("a-menu-item"),H=s("a-tooltip"),B=s("a-sub-menu"),j=s("a-menu"),C=s("a-layout-sider"),N=s("router-view"),T=s("a-layout-content"),z=s("a-layout");return r(),W("div",ee,[t(z,{class:"layout"},{default:o(()=>[t(C,{width:"200",style:{background:"#fff"},breakpoint:"lg","collapsed-width":"0"},{default:o(()=>[y.value?(r(),u(a,{key:0,active:""})):(r(),u(j,{key:1,selectedKeys:_.value,"onUpdate:selectedKeys":n[0]||(n[0]=l=>_.value=l),openKeys:h.value,"onUpdate:openKeys":n[1]||(n[1]=l=>h.value=l),mode:"inline",style:{height:"100%"}},{default:o(()=>[t(p,{key:"my_index"},{default:o(()=>[t(S,{to:"/workflow/"},{default:o(()=>[t(i(Y)),k(" "+f(i(d)("workspace.workflowSpace.workflow_index")),1)]),_:1})]),_:1}),t(B,{key:"user-workflows"},{title:o(()=>[E("span",null,[t(i(X)),k(" "+f(i(d)("workspace.workflowSpace.user_fast_access_workflows")),1)])]),default:o(()=>[(r(!0),W(G,null,P(i(K),l=>(r(),u(p,{key:l.wid},{default:o(()=>[t(H,{placement:"topLeft",title:l.title},{default:o(()=>[t(S,{to:`/workflow/${l.wid}`},{default:o(()=>[k(f(l.title),1)]),_:2},1032,["to"])]),_:2},1032,["title"])]),_:2},1024))),128)),t(p,{key:"add",onClick:V},{default:o(()=>[k(" + "+f(i(d)("workspace.workflowSpace.add_new_workflow")),1)]),_:1})]),_:1})]),_:1},8,["selectedKeys","openKeys"]))]),_:1}),t(T,{style:{padding:"0 24px",minHeight:"280px"}},{default:o(()=>[y.value?(r(),u(a,{key:0,active:""})):(r(),u(N,{key:m.value}))]),_:1})]),_:1})])}}},ne=Q(te,[["__scopeId","data-v-7cc7201b"]]);export{ne as default};
