import{U as G,r as v,a8 as H,a9 as K,aa as X,D as q,am as z,X as h,P as o,an as J,o as l,e as i,c as e,K as d,x as t,R as r,H as n,u as c,G as p,y as V,F as S,I as D,V as O,ao as Q,a4 as Y}from"./index-0413f821.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const ee={key:0,class:"space-container"},te={style:{"margin-bottom":"10px"}},oe={style:{"margin-bottom":"10px"}},ae=["src"],se=["src"],le={__name:"WorkflowTemplate",setup(re){const{t:s}=G(),b=v(!0),U=v(!1),B=H(),T=K(),m=X(),C=B.params.workflowTemplateId,a=v({});q(async()=>{const u=await z("get_template",{tid:C});if(u.status!=200){h.error(s("workspace.workflowSpace.get_workflow_failed")),T.push({name:"Workspace"});return}a.value=u.data,b.value=!1});const N=async()=>{const u=await Y("create",a.value);if(u.status==200)h.success(s("workspace.workflowTemplate.add_success"));else{h.error(s("workspace.workflowTemplate.add_failed"));return}const x=a.value;m.addUserWorkflow(x),m.setUserWorkflowsTotal(m.userWorkflowsTotal+1),T.push({name:"WorkflowUse",params:{workflowId:u.data.wid}})};return(u,x)=>{const P=o("a-skeleton"),j=o("router-link"),W=o("a-breadcrumb-item"),M=o("a-breadcrumb"),R=o("a-typography-title"),f=o("a-typography-text"),w=o("a-divider"),A=o("a-tag"),k=o("a-space"),F=o("a-button"),y=o("a-col"),I=o("a-row"),L=o("a-carousel"),$=o("a-spin"),E=J("highlight");return b.value?(l(),i("div",ee,[e(P,{active:""})])):(l(),d($,{key:1,spinning:U.value,class:"space-container"},{default:t(()=>[e(M,null,{default:t(()=>[e(W,null,{default:t(()=>[e(j,{to:"/workflow?tab=official-workflow-templates"},{default:t(()=>[r(n(c(s)("workspace.workflowSpaceMain.official_workflow_template")),1)]),_:1})]),_:1}),e(W,null,{default:t(()=>[r(n(a.value.title),1)]),_:1})]),_:1}),e(I,{justify:"space-around"},{default:t(()=>[e(y,{lg:12,md:12,sm:24,xs:24},{default:t(()=>[e(R,null,{default:t(()=>[r(n(`${c(s)("workspace.workflowTemplate.template")}: ${a.value.title}`),1)]),_:1}),p("div",te,[e(k,null,{default:t(()=>[e(f,{type:"secondary"},{default:t(()=>[r(n(c(s)("common.update_time_format",{time:new Date(a.value.update_time).toLocaleString()})),1)]),_:1}),e(w,{type:"vertical"}),(l(!0),i(S,null,V(a.value.tags,(_,g)=>(l(),d(A,{color:_.color,key:g},{default:t(()=>[r(n(_.title),1)]),_:2},1032,["color"]))),128))]),_:1})]),p("div",oe,[e(k,null,{default:t(()=>[e(f,{type:"secondary"},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.author",{author:"VectorVein"})),1)]),_:1}),e(w,{type:"vertical"}),a.value.used_count>10?(l(),d(f,{key:0,type:"secondary"},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.used_count",{count:a.value.used_count})),1)]),_:1})):D("",!0)]),_:1})]),e(k,null,{default:t(()=>[e(F,{type:"primary",onClick:N},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.add_to_my_workflows")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(w),e(I,{justify:"space-around"},{default:t(()=>[a.value.images.length>0?(l(),d(y,{key:0,lg:12,md:12,sm:24,xs:24},{default:t(()=>[e(L,{autoplay:"",arrows:"","dots-class":"slick-dots slick-thumb"},{customPaging:t(_=>[p("a",null,[p("img",{src:a.value.images[_.i]},null,8,ae)])]),default:t(()=>[(l(!0),i(S,null,V(a.value.images,(_,g)=>(l(),i("div",{key:g},[p("img",{src:_},null,8,se)]))),128))]),_:1})]),_:1})):D("",!0),e(y,{lg:12,md:12,sm:24,xs:24},{default:t(()=>[O(e(c(Q),{source:a.value.brief,class:"custom-scrollbar markdown-body custom-hljs"},null,8,["source"]),[[E]])]),_:1})]),_:1})]),_:1},8,["spinning"]))}}},ue=Z(le,[["__scopeId","data-v-a33f182f"]]);export{ue as default};
