import{c as a,A as ae,j as Ue,r as S,e as ue,b as $e,aq as be,M as L,l as i,n as r,s as _,q as o,x as m,y as d,u as s,F as C,C as E,p as b,_ as Ke,T as et,I as Se,J as tt,G as at,H as ot,K as lt,L as te,k as Oe,m as rt,z as j,v as J,E as Q,V as xe,P as ce,ar as Re}from"./index-835e28f0.js";import{u as nt}from"./userDatabase-6dec945e.js";import{F as st,T as ct,_ as ut,a as it,b as pt}from"./MindmapRenderer-eeef9c26.js";import{_ as dt}from"./UploaderFieldUse-7d4327c4.js";import{_ as _t}from"./TemperatureInput-a6330eca.js";import{F as De,C as ft}from"./FieldTimeOutlined-07b999a7.js";import{d as mt}from"./database-07243708.js";import{_ as wt}from"./_plugin-vue_export-helper-c27b6911.js";var vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"};const kt=vt;function Le(c){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable}))),l.forEach(function(p){gt(c,p,n[p])})}return c}function gt(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}var ie=function(e,n){var l=Le({},e,n.attrs);return a(ae,Le({},l,{icon:kt}),null)};ie.displayName="FlagOutlined";ie.inheritAttrs=!1;const yt=ie;var ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};const bt=ht;function Ce(c){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable}))),l.forEach(function(p){St(c,p,n[p])})}return c}function St(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}var pe=function(e,n){var l=Ce({},e,n.attrs);return a(ae,Ce({},l,{icon:bt}),null)};pe.displayName="FullscreenExitOutlined";pe.inheritAttrs=!1;const Ot=pe;var xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};const Rt=xt;function Fe(c){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable}))),l.forEach(function(p){Dt(c,p,n[p])})}return c}function Dt(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}var de=function(e,n){var l=Fe({},e,n.attrs);return a(ae,Fe({},l,{icon:Rt}),null)};de.displayName="FullscreenOutlined";de.inheritAttrs=!1;const Lt=de;var Ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm159.6-585h-59.5c-3 0-5.8 1.7-7.1 4.4l-90.6 180H511l-90.6-180a8 8 0 00-7.1-4.4h-60.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.9L457 515.7h-61.4c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V603h-81.7c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V717c0 4.4 3.6 8 8 8h54.3c4.4 0 8-3.6 8-8v-68.1h82c4.4 0 8-3.6 8-8V611c0-4.4-3.6-8-8-8h-82v-41.5h82c4.4 0 8-3.6 8-8v-29.9c0-4.4-3.6-8-8-8h-62l111.1-204.8c.6-1.2 1-2.5 1-3.8-.1-4.4-3.7-8-8.1-8z"}}]},name:"pay-circle",theme:"outlined"};const Ft=Ct;function Ie(c){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable}))),l.forEach(function(p){It(c,p,n[p])})}return c}function It(c,e,n){return e in c?Object.defineProperty(c,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):c[e]=n,c}var _e=function(e,n){var l=Ie({},e,n.attrs);return a(ae,Ie({},l,{icon:Ft}),null)};_e.displayName="PayCircleOutlined";_e.inheritAttrs=!1;const Ut=_e,$t={key:1,class:"action-container"},Et={__name:"WorkflowRunRecordsDrawer",props:{workflowId:{type:String,required:!0}},emits:["open-record"],setup(c,{emit:e}){const n=c,{t:l}=Ue(),p=S(!0),Z={NOT_STARTED:"purple",QUEUED:"orange",RUNNING:"blue",FINISHED:"green",FAILED:"red"},P=S(!1),X=async()=>{P.value=!0,await y.load({}),p.value=!1},oe=()=>{P.value=!1},Y=[{text:l("components.workspace.workflowRunRecordsDrawer.status_not_started"),value:"NOT_STARTED"},{text:l("components.workspace.workflowRunRecordsDrawer.status_queued"),value:"QUEUED"},{text:l("components.workspace.workflowRunRecordsDrawer.status_running"),value:"RUNNING"},{text:l("components.workspace.workflowRunRecordsDrawer.status_finished"),value:"FINISHED"},{text:l("components.workspace.workflowRunRecordsDrawer.status_failed"),value:"FAILED"}],y=ue({columns:[{title:l("components.workspace.workflowRunRecordsDrawer.start_time"),key:"start_time",dataIndex:"start_time",sorter:!0,sortDirections:["descend","ascend"],width:"156px"},{title:l("components.workspace.workflowRunRecordsDrawer.end_time"),key:"end_time",dataIndex:"end_time",sorter:!0,sortDirections:["descend","ascend"],width:"156px"},{title:l("components.workspace.workflowRunRecordsDrawer.status"),key:"status",dataIndex:"status",filters:Y,width:"60px"},{title:l("common.action"),key:"action",width:"100px"}],data:[],loading:!1,current:1,pageSize:10,total:0,pagination:$e(()=>({total:y.total,current:y.current,pageSize:y.pageSize})),handleTableChange:(I,x,D)=>{y.load({page_size:I.pageSize,page:I.current,sort_field:D.field,sort_order:D.order,status:x.status})},load:async I=>{y.loading=!0;const x=await be("list",{wid:n.workflowId,...I});x.status==200?y.data=x.data.records.map(D=>(D.start_time=D.start_time?new Date(D.start_time).toLocaleString():"-",D.end_time=D.end_time?new Date(D.end_time).toLocaleString():"-",D)):L.error(x.msg),y.total=x.data.total,y.pageSize=x.data.page_size,y.current=x.data.page,y.loading=!1}}),A=async I=>{p.value=!0;const x=await be("get",{rid:I});x.status==200?(e("open-record",x.data),P.value=!1):L.error(x.msg),p.value=!1};return(I,x)=>{const D=i("a-button"),F=i("a-tag"),le=i("a-typography-link"),W=i("a-table"),M=i("a-col"),B=i("a-row"),w=i("a-spin"),K=i("a-drawer");return r(),_(C,null,[a(D,{type:"primary",onClick:X},{default:o(()=>[m(d(s(l)("components.workspace.workflowRunRecordsDrawer.workflows_run_records")),1)]),_:1}),a(K,{title:s(l)("components.workspace.workflowRunRecordsDrawer.my_workflows_run_records"),width:"50vw",open:P.value,onClose:oe},{default:o(()=>[a(w,{spinning:p.value},{default:o(()=>[a(B,{justify:"space-between",align:"middle"},{default:o(()=>[a(M,{span:24},{default:o(()=>[a(W,{loading:y.loading,columns:y.columns,customRow:y.customRow,"data-source":y.data,pagination:y.pagination,onChange:y.handleTableChange},{headerCell:o(({column:O})=>[O.key==="start_time"?(r(),_(C,{key:0},[a(s(De)),m(" "+d(s(l)("components.workspace.workflowRunRecordsDrawer.start_time")),1)],64)):O.key==="end_time"?(r(),_(C,{key:1},[a(s(De)),m(" "+d(s(l)("components.workspace.workflowRunRecordsDrawer.end_time")),1)],64)):O.key==="status"?(r(),_(C,{key:2},[a(s(yt)),m(" "+d(s(l)("components.workspace.workflowRunRecordsDrawer.status")),1)],64)):O.key==="used_credits"?(r(),_(C,{key:3},[a(s(Ut)),m(" "+d(s(l)("components.workspace.workflowRunRecordsDrawer.used_credits")),1)],64)):O.key==="action"?(r(),_(C,{key:4},[a(s(ft)),m(" "+d(s(l)("common.action")),1)],64)):E("",!0)]),bodyCell:o(({column:O,record:V})=>[O.key==="status"?(r(),b(F,{key:0,color:Z[V.status]},{default:o(()=>[m(d(s(l)(`components.workspace.workflowRunRecordsDrawer.status_${V.status.toLowerCase()}`)),1)]),_:2},1032,["color"])):O.key==="action"?(r(),_("div",$t,[a(le,{onClick:Ke(H=>A(V.rid),["prevent"])},{default:o(()=>[V.status==="FAILED"?(r(),_(C,{key:0},[m(d(s(l)("components.workspace.workflowRunRecordsDrawer.check_record_and_error_task")),1)],64)):(r(),_(C,{key:1},[m(d(s(l)("components.workspace.workflowRunRecordsDrawer.check_record")),1)],64))]),_:2},1032,["onClick"])])):E("",!0)]),_:1},8,["loading","columns","customRow","data-source","pagination","onChange"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["title","open"])],64)}}};const Vt={key:0,class:"space-container"},Pt=["src"],Nt=["src"],Tt={key:0},zt={key:0},jt={key:1},At={key:2},Wt={key:3},Mt={key:4},Bt={key:0},Ht={__name:"WorkflowSpaceUse",setup(c){const{t:e}=Ue(),n=et(),{language:l,setting:p}=Se(n),Z=nt(),{userDatabases:P}=Se(Z),X=S(!0),oe=S(!1),Y=tt(),y=at(),A=ot(),I=y.params.workflowId,x=S(!1),D=S(window.innerWidth<=768?"90vw":"60vw"),F=S(!1),le=["typography-paragraph"],W=S([]),M=S([]),B=S([]);lt(async()=>{const h=te("get",{wid:I}),k=mt("list",{}),R=await h,u=await k;if(u.status==200&&Z.setUserDatabases(u.data),R.status!=200){L.error(e("workspace.workflowSpace.get_workflow_failed")),A.push({name:"WorkflowSpaceMain"});return}w.value=R.data,w.value.data.nodes.forEach(N=>{N.category=="vectorDb"&&(N.data.template.database.options=P.value.filter(T=>T.status=="VALID").map(T=>({value:T.vid,label:T.name})))});const v=Oe(w.value),f=ue(v);W.value=f.inputFields,M.value=f.outputNodes,B.value=f.triggerNodes,K.value=JSON.parse(JSON.stringify(w.value)),X.value=!1});const w=S({}),K=S({}),O=S(!1),V=S(null),H=S(null),Ee=async()=>{H.value=null,re.value=!1;let h=!0;try{w.value.data.nodes.forEach(u=>{u.data.has_inputs&&me(u)&&!["triggers"].includes(u.category)&&Object.keys(u.data.template).forEach(v=>{let f=!0;u.data.template[v].field_type!="checkbox"&&u.data.template[v].show&&u.data.template[v].required&&((u.data.template[v].field_type=="file"&&u.data.template[v].value.length==0||u.data.template[v].field_type=="number"&&typeof u.data.template[v].value!="number"||!u.data.template[v].value&&!u.data.template[v].value===0)&&(f=!1),f||(L.error(e("workspace.workflowSpace.field_is_empty",{field:u.data.template[v].display_name})),h=!1))})})}catch{h=!1}if(!h)return;let k=JSON.parse(JSON.stringify(K.value));k.data.nodes.forEach(u=>{u.data.has_inputs&&me(u)&&!["triggers"].includes(u.category)&&Object.keys(u.data.template).forEach(v=>{u.data.template[v].show&&(u.data.template[v].value=w.value.data.nodes.find(f=>f.id==u.id).data.template[v].value)})}),O.value=!0,k.data.setting=p.value.data;const R=await te("run",k);R.status==200?(L.success(e("workspace.workflowSpace.submit_workflow_success")),H.value=R.data.rid,V.value=setInterval(async()=>{const u=await te("check_status",{rid:H.value});u.status==200?(L.success(e("workspace.workflowSpace.run_workflow_success")),clearInterval(V.value),O.value=!1,w.value=u.data):u.status==500&&(O.value=!1,L.error(e("workspace.workflowSpace.run_workflow_failed")),clearInterval(V.value))},1e3)):(L.error(e("workspace.workflowSpace.submit_workflow_failed")),O.value=!1)},Ve=async()=>{O.value=!0,(await Re("update",{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...w.value})).status==200?L.success(e("workspace.workflowSpace.update_schedule_success")):L.error(e("workspace.workflowSpace.update_schedule_failed")),O.value=!1},fe=S(!1),Pe=async()=>{fe.value=!0,(await Re("delete",{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...w.value})).status==200?L.success(e("workspace.workflowSpace.delete_schedule_success")):L.error(e("workspace.workflowSpace.delete_schedule_failed")),fe.value=!1},Ne=async()=>{(await te("delete",{wid:w.value.wid})).status==200?(L.success(e("workspace.workflowSpace.delete_success")),Y.deleteUserWorkflow(w.value.wid),Y.deleteUserWorkflow(w.value.wid,!0),A.push({name:"WorkflowSpaceMain"})):L.error(e("workspace.workflowSpace.delete_failed"))},Te=()=>{A.push({name:"WorkflowEditor",params:{workflowId:I}})},me=h=>{let k=!1;return Object.keys(h.data.template).forEach(R=>{h.data.template[R].show&&(k=!0)}),k},re=S(!1),q=S(""),ne=S(""),ze=$e(()=>q.value=="FINISHED"?"success":q.value=="FAILED"?"error":"info"),je=h=>{H.value=h.rid,q.value=h.status,w.value.data=h.data;let[k,R]=(h.data.error_task||".").split(".");k=k.split("_").map((f,N)=>N===0?f.charAt(0).toLowerCase()+f.slice(1):f.charAt(0).toUpperCase()+f.slice(1)).join(""),R=R.split("_").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(""),R=="OpenAi"?R="OpenAI":R=="ChatGlm"&&(R="ChatGLM"),ne.value=`${k}.${R}`;const u=Oe(w.value),v=ue(u);W.value=v.inputFields,M.value=v.outputNodes,B.value=v.triggerNodes,re.value=!0},Ae=h=>{window.pywebview.api.open_local_file(h)};return(h,k)=>{const R=i("a-skeleton"),u=i("a-typography-title"),v=i("a-typography-text"),f=i("a-divider"),N=i("a-carousel"),T=i("a-modal"),we=i("a-typography-link"),We=i("a-tag"),se=i("a-space"),U=i("a-col"),G=i("a-button"),ve=i("a-popconfirm"),z=i("a-row"),Me=i("a-alert"),Be=i("a-select"),He=i("a-textarea"),qe=i("a-input"),Ge=i("a-input-number"),Je=i("a-checkbox"),Qe=i("a-form-item"),ee=i("a-typography-paragraph"),Ze=i("a-form"),Xe=i("cron-ant"),Ye=i("a-card"),ke=i("a-tooltip"),ge=i("a-spin"),ye=rt("highlight");return X.value?(r(),_("div",Vt,[a(R,{active:""})])):(r(),b(ge,{key:1,spinning:oe.value,class:"space-container"},{default:o(()=>[a(z,{justify:"space-between",align:"middle"},{default:o(()=>[a(U,null,{default:o(()=>[a(u,null,{default:o(()=>[m(d(w.value.title),1)]),_:1}),a(se,null,{default:o(()=>[a(v,{type:"secondary"},{default:o(()=>[m(d(s(e)("workspace.workflowSpace.update_time",{time:new Date(w.value.update_time).toLocaleString()})),1)]),_:1}),a(f,{type:"vertical"}),a(we,{onClick:k[1]||(k[1]=t=>x.value=!0)},{default:o(()=>[m(d(s(e)("workspace.workflowSpace.brief"))+" ",1),a(T,{open:x.value,title:s(e)("workspace.workflowSpace.brief"),width:D.value,footer:null,class:"introduction-modal",onCancel:k[0]||(k[0]=t=>x.value=!1)},{default:o(()=>[a(N,{autoplay:"",arrows:"","dots-class":"slick-dots slick-thumb"},{customPaging:o(t=>[j("a",null,[j("img",{src:w.value.images[t.i]},null,8,Pt)])]),default:o(()=>[(r(!0),_(C,null,J(w.value.images,(t,$)=>(r(),_("div",{key:$},[j("img",{src:t},null,8,Nt)]))),128))]),_:1}),Q(a(s(xe),{source:w.value.brief,class:"custom-scrollbar markdown-body custom-hljs"},null,8,["source"]),[[ye]])]),_:1},8,["open","title","width"])]),_:1}),a(f,{type:"vertical"}),(r(!0),_(C,null,J(w.value.tags,(t,$)=>(r(),b(We,{color:t.color,key:$},{default:o(()=>[m(d(t.title),1)]),_:2},1032,["color"]))),128))]),_:1})]),_:1}),a(U,null,{default:o(()=>[a(se,null,{default:o(()=>[a(Et,{workflowId:s(I),onOpenRecord:je},null,8,["workflowId"]),a(G,{type:"primary",onClick:Te},{default:o(()=>[m(d(s(e)("workspace.workflowSpace.edit")),1)]),_:1}),a(ve,{placement:"leftTop",title:s(e)("workspace.workflowSpace.delete_confirm"),onConfirm:Ne},{default:o(()=>[a(G,{type:"primary",danger:""},{default:o(()=>[m(d(s(e)("workspace.workflowSpace.delete")),1)]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})]),_:1}),a(f),a(z,{gutter:[16,16]},{default:o(()=>[re.value?(r(),b(U,{key:0,span:24},{default:o(()=>[a(Me,{type:ze.value,"show-icon":""},{message:o(()=>[j("span",null,d(s(e)("workspace.workflowSpace.record_status",{status:s(e)(`components.workspace.workflowRunRecordsDrawer.status_${q.value.toLowerCase()}`)})),1),a(f,{type:"vertical"}),q.value=="FAILED"&&ne.value!="."?(r(),_("span",Tt,d(s(e)("workspace.workflowSpace.record_error_task",{task:s(e)("components.nodes."+ne.value+".title")})),1)):E("",!0)]),_:1},8,["type"])]),_:1})):E("",!0),Q(a(U,{xxl:6,xl:8,lg:10,md:24},{default:o(()=>[a(z,{gutter:[16,16]},{default:o(()=>[a(u,{level:3},{default:o(()=>[a(s(st),{class:"text-primary"}),m(" "+d(s(e)("workspace.workflowSpace.inputs")),1)]),_:1}),a(U,{span:24},{default:o(()=>[a(Ze,{layout:"vertical"},{default:o(()=>[(r(!0),_(C,null,J(W.value,(t,$)=>(r(),_("div",{key:`field-${t}-${$}`},[le.includes(t.field_type)?E("",!0):(r(),b(Qe,{key:0},{label:o(()=>[m(d(t.display_name),1)]),default:o(()=>[t.category=="llms"&&t=="temperature"?(r(),b(_t,{key:0,modelValue:t.value,"onUpdate:modelValue":g=>t.value=g},null,8,["modelValue","onUpdate:modelValue"])):t.field_type=="select"?(r(),b(Be,{key:1,value:t.value,"onUpdate:value":g=>t.value=g,options:t.options},null,8,["value","onUpdate:value","options"])):t.field_type=="textarea"?(r(),b(He,{key:2,value:t.value,"onUpdate:value":g=>t.value=g,autoSize:!0,showCount:!0,placeholder:t.placeholder},null,8,["value","onUpdate:value","placeholder"])):t.field_type=="input"?(r(),b(qe,{key:3,value:t.value,"onUpdate:value":g=>t.value=g,placeholder:t.placeholder},null,8,["value","onUpdate:value","placeholder"])):t.field_type=="number"?(r(),b(Ge,{key:4,value:t.value,"onUpdate:value":g=>t.value=g,placeholder:t.placeholder},null,8,["value","onUpdate:value","placeholder"])):t.field_type=="checkbox"?(r(),b(Je,{key:5,checked:t.value,"onUpdate:checked":g=>t.value=g},null,8,["checked","onUpdate:checked"])):t.field_type=="file"?(r(),b(dt,{key:6,modelValue:t.value,"onUpdate:modelValue":g=>t.value=g},null,8,["modelValue","onUpdate:modelValue"])):t.field_type=="list"?(r(),b(ut,{key:7,modelValue:t.value,"onUpdate:modelValue":g=>t.value=g},null,8,["modelValue","onUpdate:modelValue"])):E("",!0)]),_:2},1024)),t.field_type=="typography-paragraph"?(r(),b(z,{key:1},{default:o(()=>[a(U,{span:24,class:"ui-special-item-container"},{default:o(()=>[a(ee,{class:"ui-special-item",content:t.value,"onUpdate:content":g=>t.value=g},null,8,["content","onUpdate:content"])]),_:2},1024)]),_:2},1024)):E("",!0)]))),128))]),_:1})]),_:1}),a(f),a(U,{span:24},{default:o(()=>[a(z,{gutter:[16,16]},{default:o(()=>[(r(!0),_(C,null,J(B.value,t=>(r(),b(U,{key:`node-${t.id}`,span:24},{default:o(()=>[t.type=="ButtonTrigger"?(r(),b(G,{key:0,type:"primary",block:"",onClick:Ee,loading:O.value},{default:o(()=>[m(d(t.data.template.button_text.value),1)]),_:2},1032,["loading"])):t.type=="ScheduleTrigger"?(r(),b(Ye,{key:1,title:s(e)("components.nodes.triggers.ScheduleTrigger.schedule_settings")},{extra:o(()=>[a(se,null,{default:o(()=>[a(G,{type:"primary",onClick:Ve,loading:O.value},{default:o(()=>[m(d(s(e)("components.nodes.triggers.ScheduleTrigger.save_schedule_settings")),1)]),_:1},8,["loading"]),a(ve,{title:s(e)("workspace.workflowSpace.delete_schedule_trigger_confirm"),onConfirm:Pe},{default:o(()=>[a(G,{type:"primary",danger:""},{default:o(()=>[m(d(s(e)("workspace.workflowSpace.delete")),1)]),_:1})]),_:1},8,["title"])]),_:1})]),default:o(()=>[a(Xe,{modelValue:t.data.template.schedule.value,"onUpdate:modelValue":$=>t.data.template.schedule.value=$,"button-props":{type:"primary",shape:"round"},locale:s(l)},null,8,["modelValue","onUpdate:modelValue","locale"])]),_:2},1032,["title"])):E("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},512),[[ce,!F.value]]),a(U,{xxl:F.value?24:18,xl:F.value?24:16,lg:F.value?24:14,md:24},{default:o(()=>[a(u,{level:3,style:{display:"flex","justify-content":"space-between"}},{default:o(()=>[j("span",null,[a(s(ct),{class:"text-primary"}),m(" "+d(s(e)("workspace.workflowSpace.outputs")),1)]),j("span",null,[a(ke,{title:s(e)("workspace.workflowSpace.maximize_output")},{default:o(()=>[Q(a(s(Lt),{onClick:k[2]||(k[2]=t=>F.value=!F.value)},null,512),[[ce,!F.value]])]),_:1},8,["title"]),a(ke,{title:s(e)("workspace.workflowSpace.normalize_output")},{default:o(()=>[Q(a(s(Ot),{onClick:k[3]||(k[3]=t=>F.value=!F.value)},null,512),[[ce,F.value]])]),_:1},8,["title"])])]),_:1}),a(ge,{spinning:O.value},{default:o(()=>[a(z,{gutter:[16,16]},{default:o(()=>[(r(!0),_(C,null,J(M.value,(t,$)=>(r(),b(U,{span:24,class:"draggable-item",key:`node-${t.id}-${$}`},{default:o(()=>{var g;return[t.type=="Text"?(r(),_("div",zt,[a(u,{level:5},{default:o(()=>[m(d(t.data.template.output_title.value),1)]),_:2},1024),t.data.template.render_markdown.value?(r(),_(C,{key:0},[Q(a(s(xe),{source:t.data.template.text.value,class:"markdown-body custom-hljs"},null,8,["source"]),[[ye]]),a(ee,{copyable:{text:t.data.template.text.value}},null,8,["copyable"])],64)):(r(),b(ee,{key:1,copyable:{text:t.data.template.text.value}},{default:o(()=>[m(d(t.data.template.text.value),1)]),_:2},1032,["copyable"]))])):t.type=="Document"?(r(),_("div",jt,[a(we,{onClick:he=>Ae(t.data.template.output.value)},{default:o(()=>[m(d(t.data.template.output.value),1)]),_:2},1032,["onClick"])])):t.type=="Audio"?(r(),_("div",At,[a(it,{audios:[(g=t.data.template.audio_url)==null?void 0:g.value]},null,8,["audios"])])):t.type=="Mindmap"?(r(),_("div",Wt,[a(pt,{content:t.data.template.content.value,style:{width:"100%","min-height":"50vh"}},null,8,["content"])])):(r(),_("div",Mt,[t.field_type=="typography-paragraph"?(r(),_("div",Bt,[a(ee,{content:t.value,"onUpdate:content":he=>t.value=he},null,8,["content","onUpdate:content"])])):E("",!0)]))]}),_:2},1024))),128))]),_:1})]),_:1},8,["spinning"])]),_:1},8,["xxl","xl","lg"])]),_:1})]),_:1},8,["spinning"]))}}},ea=wt(Ht,[["__scopeId","data-v-a93a6397"]]);export{ea as default};
