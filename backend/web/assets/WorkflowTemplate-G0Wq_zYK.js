import{V as z,l as v,a6 as E,a7 as X,a8 as Y,q as G,ak as H,Y as h,P as a,am as J,f as l,h as p,c as e,L as d,j as t,T as r,B as n,x as c,z as i,N as V,F as S,C as B,X as K,an as O,a3 as Q}from"./index-dXo_TUZF.js";import{_ as Z}from"./_plugin-vue_export-helper-x3n3nnut.js";const ee={key:0,class:"space-container"},te={style:{"margin-bottom":"10px"}},ae={style:{"margin-bottom":"10px"}},oe=["src"],se=["src"],le={__name:"WorkflowTemplate",setup(re){const{t:s}=z(),b=v(!0),C=v(!1),D=E(),T=X(),m=Y(),N=D.params.workflowTemplateId,o=v({});G(async()=>{const u=await H("get_template",{tid:N});if(u.status!=200){h.error(s("workspace.workflowSpace.get_workflow_failed")),T.push({name:"Workspace"});return}o.value=u.data,b.value=!1});const U=async()=>{const u=await Q("create",o.value);if(u.status==200)h.success(s("workspace.workflowTemplate.add_success"));else{h.error(s("workspace.workflowTemplate.add_failed"));return}const x=o.value;m.addUserWorkflow(x),m.setUserWorkflowsTotal(m.userWorkflowsTotal+1),T.push({name:"WorkflowUse",params:{workflowId:u.data.wid}})};return(u,x)=>{const j=a("a-skeleton"),P=a("router-link"),W=a("a-breadcrumb-item"),L=a("a-breadcrumb"),M=a("a-typography-title"),f=a("a-typography-text"),w=a("a-divider"),A=a("a-tag"),k=a("a-space"),F=a("a-button"),y=a("a-col"),I=a("a-row"),R=a("a-carousel"),$=a("a-spin"),q=J("highlight");return b.value?(l(),p("div",ee,[e(j,{active:""})])):(l(),d($,{key:1,spinning:C.value,class:"space-container"},{default:t(()=>[e(L,null,{default:t(()=>[e(W,null,{default:t(()=>[e(P,{to:"/workflow?tab=official-workflow-templates"},{default:t(()=>[r(n(c(s)("workspace.workflowSpaceMain.official_workflow_template")),1)]),_:1})]),_:1}),e(W,null,{default:t(()=>[r(n(o.value.title),1)]),_:1})]),_:1}),e(I,{justify:"space-around"},{default:t(()=>[e(y,{lg:12,md:12,sm:24,xs:24},{default:t(()=>[e(M,null,{default:t(()=>[r(n(`${c(s)("workspace.workflowTemplate.template")}: ${o.value.title}`),1)]),_:1}),i("div",te,[e(k,null,{default:t(()=>[e(f,{type:"secondary"},{default:t(()=>[r(n(c(s)("common.update_time_format",{time:new Date(parseInt(o.value.update_time)).toLocaleString()})),1)]),_:1}),e(w,{type:"vertical"}),(l(!0),p(S,null,V(o.value.tags,(_,g)=>(l(),d(A,{color:_.color,key:g},{default:t(()=>[r(n(_.title),1)]),_:2},1032,["color"]))),128))]),_:1})]),i("div",ae,[e(k,null,{default:t(()=>[e(f,{type:"secondary"},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.author",{author:"VectorVein"})),1)]),_:1}),e(w,{type:"vertical"}),o.value.used_count>10?(l(),d(f,{key:0,type:"secondary"},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.used_count",{count:o.value.used_count})),1)]),_:1})):B("",!0)]),_:1})]),e(k,null,{default:t(()=>[e(F,{type:"primary",onClick:U},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.add_to_my_workflows")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(w),e(I,{justify:"space-around"},{default:t(()=>[o.value.images.length>0?(l(),d(y,{key:0,lg:12,md:12,sm:24,xs:24},{default:t(()=>[e(R,{autoplay:"",arrows:"","dots-class":"slick-dots slick-thumb"},{customPaging:t(_=>[i("a",null,[i("img",{src:o.value.images[_.i]},null,8,oe)])]),default:t(()=>[(l(!0),p(S,null,V(o.value.images,(_,g)=>(l(),p("div",{key:g},[i("img",{src:_},null,8,se)]))),128))]),_:1})]),_:1})):B("",!0),e(y,{lg:12,md:12,sm:24,xs:24},{default:t(()=>[K(e(c(O),{source:o.value.brief,class:"custom-scrollbar markdown-body custom-hljs"},null,8,["source"]),[[q]])]),_:1})]),_:1})]),_:1},8,["spinning"]))}}},ue=Z(le,[["__scopeId","data-v-724b55ea"]]);export{ue as default};
