import{p as jo,_ as Bo,a as $o,b as Xo,c as Yo,d as Wo,e as Lo,f as Ho,g as zo,h as Go,i as qo,j as Zo,k as Jo,l as Qo,m as Ko,n as en,o as tn,q as on,r as nn,s as an,t as rn,u as ln,v as sn,w as un,x as cn,y as dn,z as pn,A as fn,B as hn,U as mn,C as vn,D as gn,E as _n,F as bn,G as yn}from"./style-a046cf6c.js";import{c as f,A as wn,g as $t,u as D,w as kn,d as Dn,a as En,b as qt,t as Sn,r as ie,e as Xt,h as ho,o as xn,f as Cn,i as Tn,j as mo,k as On,l as C,m as In,n as x,p as X,q as g,s as Z,v as Be,F as Pe,x as le,y as K,z as Me,B as Zt,C as Nn,D as Fe,E as Jt,G as Mt,V as An,H as Pn,I as Mn,J as Un,K as Rn,L as Vn,M as Qt,N as wt,O as kt,P as Fn,Q as Kt,R as jn,S as Bn,T as $n}from"./index-1deb7cd7.js";import{u as Xn}from"./userDatabase-51ad1131.js";import{_ as Yn}from"./MarkdownEditor-a0ddac64.js";import{_ as vo}from"./UploaderFieldUse-2e86987e.js";import{F as Wn,T as Ln,_ as Hn,a as zn,b as Gn,c as qn,d as Zn}from"./EchartsRenderer-793823f7.js";import{_ as Jn}from"./TemperatureInput-bbb6459f.js";import{_ as go}from"./_plugin-vue_export-helper-c27b6911.js";import{d as Qn}from"./database-07243708.js";import"./stringify-ec884b6d.js";import"./index-d0e2ad8e.js";var Kn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.3 506.3L781.7 405.6a7.23 7.23 0 00-11.7 5.7V476H548V254h64.8c6 0 9.4-7 5.7-11.7L517.7 114.7a7.14 7.14 0 00-11.3 0L405.6 242.3a7.23 7.23 0 005.7 11.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7 506.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h222v222h-64.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V548h222v64.8c0 6 7 9.4 11.7 5.7l127.5-100.8a7.3 7.3 0 00.1-11.4z"}}]},name:"drag",theme:"outlined"};const ea=Kn;function eo(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?Object(arguments[o]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),n.forEach(function(a){ta(e,a,t[a])})}return e}function ta(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var Yt=function(o,t){var n=eo({},o,t.attrs);return f(wn,eo({},n,{icon:ea}),null)};Yt.displayName="DragOutlined";Yt.inheritAttrs=!1;const Dt=Yt;var oa=Object.defineProperty,pt=Object.getOwnPropertySymbols,_o=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable,to=(e,o,t)=>o in e?oa(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,$e=(e,o)=>{for(var t in o||(o={}))_o.call(o,t)&&to(e,t,o[t]);if(pt)for(var t of pt(o))bo.call(o,t)&&to(e,t,o[t]);return e},yo=(e,o)=>{var t={};for(var n in e)_o.call(e,n)&&o.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&pt)for(var n of pt(e))o.indexOf(n)<0&&bo.call(e,n)&&(t[n]=e[n]);return t};const wo="[vue-draggable-plus]: ";function na(e){console.warn(wo+e)}function aa(e){console.error(wo+e)}function ra(e,o,t){Array.isArray(e)&&t>=0&&t<e.length&&e.splice(t,0,e.splice(o,1)[0])}function la(e){return e.replace(/-(\w)/g,(o,t)=>t?t.toUpperCase():"")}function ia(e){return Object.keys(e).reduce((o,t)=>(typeof e[t]<"u"&&(o[la(t)]=e[t]),o),{})}function sa(e,o){if(Array.isArray(e))return e.splice(o,1)}function ua(e,o,t){if(Array.isArray(e))return e.splice(o,0,t)}function ca(e){return typeof e>"u"}function da(e){return typeof e=="string"}function oo(e,o,t){const n=e.children[t];e.insertBefore(o,n)}function Et(e){e.parentNode&&e.parentNode.removeChild(e)}function pa(e,o=document){var t;let n=null;return typeof(o==null?void 0:o.querySelector)=="function"?n=(t=o==null?void 0:o.querySelector)==null?void 0:t.call(o,e):n=document.querySelector(e),n||na(`Element not found: ${e}`),n}function fa(e,o,t=null){return function(...n){return e.apply(t,n),o.apply(t,n)}}function ha(e,o){const t=$e({},e);return Object.keys(o).forEach(n=>{t[n]?t[n]=fa(e[n],o[n]):t[n]=o[n]}),t}function ma(e){return e instanceof HTMLElement}function va(e,o){Object.keys(e).forEach(t=>{o(t,e[t])})}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function no(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ye(e){for(var o=1;o<arguments.length;o++){var t=arguments[o]!=null?arguments[o]:{};o%2?no(Object(t),!0).forEach(function(n){ga(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):no(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function it(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?it=function(o){return typeof o}:it=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},it(e)}function ga(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function De(){return De=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},De.apply(this,arguments)}function _a(e,o){if(e==null)return{};var t={},n=Object.keys(e),a,r;for(r=0;r<n.length;r++)a=n[r],!(o.indexOf(a)>=0)&&(t[a]=e[a]);return t}function ba(e,o){if(e==null)return{};var t=_a(e,o),n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],!(o.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var ya="1.15.0";function ke(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ee=ke(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tt=ke(/Edge/i),ao=ke(/firefox/i),Ze=ke(/safari/i)&&!ke(/chrome/i)&&!ke(/android/i),ko=ke(/iP(ad|od|hone)/i),Do=ke(/chrome/i)&&ke(/android/i),Eo={capture:!1,passive:!1};function I(e,o,t){e.addEventListener(o,t,!Ee&&Eo)}function O(e,o,t){e.removeEventListener(o,t,!Ee&&Eo)}function ft(e,o){if(o){if(o[0]===">"&&(o=o.substring(1)),e)try{if(e.matches)return e.matches(o);if(e.msMatchesSelector)return e.msMatchesSelector(o);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(o)}catch{return!1}return!1}}function wa(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _e(e,o,t,n){if(e){t=t||document;do{if(o!=null&&(o[0]===">"?e.parentNode===t&&ft(e,o):ft(e,o))||n&&e===t)return e;if(e===t)break}while(e=wa(e))}return null}var ro=/\s+/g;function ue(e,o,t){if(e&&o)if(e.classList)e.classList[t?"add":"remove"](o);else{var n=(" "+e.className+" ").replace(ro," ").replace(" "+o+" "," ");e.className=(n+(t?" "+o:"")).replace(ro," ")}}function b(e,o,t){var n=e&&e.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),o===void 0?t:t[o];!(o in n)&&o.indexOf("webkit")===-1&&(o="-webkit-"+o),n[o]=t+(typeof t=="string"?"":"px")}}function Ye(e,o){var t="";if(typeof e=="string")t=e;else do{var n=b(e,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!o&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function So(e,o,t){if(e){var n=e.getElementsByTagName(o),a=0,r=n.length;if(t)for(;a<r;a++)t(n[a],a);return n}return[]}function be(){var e=document.scrollingElement;return e||document.documentElement}function W(e,o,t,n,a){if(!(!e.getBoundingClientRect&&e!==window)){var r,l,s,i,d,p,m;if(e!==window&&e.parentNode&&e!==be()?(r=e.getBoundingClientRect(),l=r.top,s=r.left,i=r.bottom,d=r.right,p=r.height,m=r.width):(l=0,s=0,i=window.innerHeight,d=window.innerWidth,p=window.innerHeight,m=window.innerWidth),(o||t)&&e!==window&&(a=a||e.parentNode,!Ee))do if(a&&a.getBoundingClientRect&&(b(a,"transform")!=="none"||t&&b(a,"position")!=="static")){var v=a.getBoundingClientRect();l-=v.top+parseInt(b(a,"border-top-width")),s-=v.left+parseInt(b(a,"border-left-width")),i=l+r.height,d=s+r.width;break}while(a=a.parentNode);if(n&&e!==window){var h=Ye(a||e),N=h&&h.a,S=h&&h.d;h&&(l/=S,s/=N,m/=N,p/=S,i=l+p,d=s+m)}return{top:l,left:s,bottom:i,right:d,width:m,height:p}}}function lo(e,o,t){for(var n=Ce(e,!0),a=W(e)[o];n;){var r=W(n)[t],l=void 0;if(t==="top"||t==="left"?l=a>=r:l=a<=r,!l)return n;if(n===be())break;n=Ce(n,!1)}return!1}function We(e,o,t,n){for(var a=0,r=0,l=e.children;r<l.length;){if(l[r].style.display!=="none"&&l[r]!==y.ghost&&(n||l[r]!==y.dragged)&&_e(l[r],t.draggable,e,!1)){if(a===o)return l[r];a++}r++}return null}function Wt(e,o){for(var t=e.lastElementChild;t&&(t===y.ghost||b(t,"display")==="none"||o&&!ft(t,o));)t=t.previousElementSibling;return t||null}function pe(e,o){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==y.clone&&(!o||ft(e,o))&&t++;return t}function io(e){var o=0,t=0,n=be();if(e)do{var a=Ye(e),r=a.a,l=a.d;o+=e.scrollLeft*r,t+=e.scrollTop*l}while(e!==n&&(e=e.parentNode));return[o,t]}function ka(e,o){for(var t in e)if(e.hasOwnProperty(t)){for(var n in o)if(o.hasOwnProperty(n)&&o[n]===e[t][n])return Number(t)}return-1}function Ce(e,o){if(!e||!e.getBoundingClientRect)return be();var t=e,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=b(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return be();if(n||o)return t;n=!0}}while(t=t.parentNode);return be()}function Da(e,o){if(e&&o)for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function St(e,o){return Math.round(e.top)===Math.round(o.top)&&Math.round(e.left)===Math.round(o.left)&&Math.round(e.height)===Math.round(o.height)&&Math.round(e.width)===Math.round(o.width)}var Je;function xo(e,o){return function(){if(!Je){var t=arguments,n=this;t.length===1?e.call(n,t[0]):e.apply(n,t),Je=setTimeout(function(){Je=void 0},o)}}}function Ea(){clearTimeout(Je),Je=void 0}function Co(e,o,t){e.scrollLeft+=o,e.scrollTop+=t}function To(e){var o=window.Polymer,t=window.jQuery||window.Zepto;return o&&o.dom?o.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}var de="Sortable"+new Date().getTime();function Sa(){var e=[],o;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(n){if(!(b(n,"display")==="none"||n===y.ghost)){e.push({target:n,rect:W(n)});var a=ye({},e[e.length-1].rect);if(n.thisAnimationDuration){var r=Ye(n,!0);r&&(a.top-=r.f,a.left-=r.e)}n.fromRect=a}})}},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(ka(e,{target:t}),1)},animateAll:function(t){var n=this;if(!this.options.animation){clearTimeout(o),typeof t=="function"&&t();return}var a=!1,r=0;e.forEach(function(l){var s=0,i=l.target,d=i.fromRect,p=W(i),m=i.prevFromRect,v=i.prevToRect,h=l.rect,N=Ye(i,!0);N&&(p.top-=N.f,p.left-=N.e),i.toRect=p,i.thisAnimationDuration&&St(m,p)&&!St(d,p)&&(h.top-p.top)/(h.left-p.left)===(d.top-p.top)/(d.left-p.left)&&(s=Ca(h,m,v,n.options)),St(p,d)||(i.prevFromRect=d,i.prevToRect=p,s||(s=n.options.animation),n.animate(i,h,p,s)),s&&(a=!0,r=Math.max(r,s),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},s),i.thisAnimationDuration=s)}),clearTimeout(o),a?o=setTimeout(function(){typeof t=="function"&&t()},r):typeof t=="function"&&t(),e=[]},animate:function(t,n,a,r){if(r){b(t,"transition",""),b(t,"transform","");var l=Ye(this.el),s=l&&l.a,i=l&&l.d,d=(n.left-a.left)/(s||1),p=(n.top-a.top)/(i||1);t.animatingX=!!d,t.animatingY=!!p,b(t,"transform","translate3d("+d+"px,"+p+"px,0)"),this.forRepaintDummy=xa(t),b(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),b(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){b(t,"transition",""),b(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},r)}}}}function xa(e){return e.offsetWidth}function Ca(e,o,t,n){return Math.sqrt(Math.pow(o.top-e.top,2)+Math.pow(o.left-e.left,2))/Math.sqrt(Math.pow(o.top-t.top,2)+Math.pow(o.left-t.left,2))*n.animation}var Re=[],xt={initializeByDefault:!0},ot={mount:function(e){for(var o in xt)xt.hasOwnProperty(o)&&!(o in e)&&(e[o]=xt[o]);Re.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Re.push(e)},pluginEvent:function(e,o,t){var n=this;this.eventCanceled=!1,t.cancel=function(){n.eventCanceled=!0};var a=e+"Global";Re.forEach(function(r){o[r.pluginName]&&(o[r.pluginName][a]&&o[r.pluginName][a](ye({sortable:o},t)),o.options[r.pluginName]&&o[r.pluginName][e]&&o[r.pluginName][e](ye({sortable:o},t)))})},initializePlugins:function(e,o,t,n){Re.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var i=new l(e,o,e.options);i.sortable=e,i.options=e.options,e[s]=i,De(t,i.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var r=this.modifyOption(e,a,e.options[a]);typeof r<"u"&&(e.options[a]=r)}},getEventProperties:function(e,o){var t={};return Re.forEach(function(n){typeof n.eventProperties=="function"&&De(t,n.eventProperties.call(o[n.pluginName],e))}),t},modifyOption:function(e,o,t){var n;return Re.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[o]=="function"&&(n=a.optionListeners[o].call(e[a.pluginName],t))}),n}};function Ta(e){var o=e.sortable,t=e.rootEl,n=e.name,a=e.targetEl,r=e.cloneEl,l=e.toEl,s=e.fromEl,i=e.oldIndex,d=e.newIndex,p=e.oldDraggableIndex,m=e.newDraggableIndex,v=e.originalEvent,h=e.putSortable,N=e.extraEventProperties;if(o=o||t&&t[de],!!o){var S,$=o.options,U="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ee&&!tt?S=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(n,!0,!0)),S.to=l||t,S.from=s||t,S.item=a||t,S.clone=r,S.oldIndex=i,S.newIndex=d,S.oldDraggableIndex=p,S.newDraggableIndex=m,S.originalEvent=v,S.pullMode=h?h.lastPutMode:void 0;var j=ye(ye({},N),ot.getEventProperties(n,o));for(var R in j)S[R]=j[R];t&&t.dispatchEvent(S),$[U]&&$[U].call(o,S)}}var Oa=["evt"],re=function(e,o){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.evt,a=ba(t,Oa);ot.pluginEvent.bind(y)(e,o,ye({dragEl:c,parentEl:F,ghostEl:E,rootEl:P,nextEl:Ae,lastDownEl:st,cloneEl:M,cloneHidden:xe,dragStarted:ze,putSortable:q,activeSortable:y.active,originalEvent:n,oldIndex:Xe,oldDraggableIndex:Qe,newIndex:ce,newDraggableIndex:Se,hideGhostForTarget:Ao,unhideGhostForTarget:Po,cloneNowHidden:function(){xe=!0},cloneNowShown:function(){xe=!1},dispatchSortableEvent:function(r){oe({sortable:o,name:r,originalEvent:n})}},a))};function oe(e){Ta(ye({putSortable:q,cloneEl:M,targetEl:c,rootEl:P,oldIndex:Xe,oldDraggableIndex:Qe,newIndex:ce,newDraggableIndex:Se},e))}var c,F,E,P,Ae,st,M,xe,Xe,ce,Qe,Se,nt,q,je=!1,ht=!1,mt=[],Ie,ve,Ct,Tt,so,uo,ze,Ve,Ke,et=!1,at=!1,ut,Q,Ot=[],Ut=!1,vt=[],_t=typeof document<"u",rt=ko,co=tt||Ee?"cssFloat":"float",Ia=_t&&!Do&&!ko&&"draggable"in document.createElement("div"),Oo=function(){if(_t){if(Ee)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Io=function(e,o){var t=b(e),n=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),a=We(e,0,o),r=We(e,1,o),l=a&&b(a),s=r&&b(r),i=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+W(a).width,d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+W(r).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l.float&&l.float!=="none"){var p=l.float==="left"?"left":"right";return r&&(s.clear==="both"||s.clear===p)?"vertical":"horizontal"}return a&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||i>=n&&t[co]==="none"||r&&t[co]==="none"&&i+d>n)?"vertical":"horizontal"},Na=function(e,o,t){var n=t?e.left:e.top,a=t?e.right:e.bottom,r=t?e.width:e.height,l=t?o.left:o.top,s=t?o.right:o.bottom,i=t?o.width:o.height;return n===l||a===s||n+r/2===l+i/2},Aa=function(e,o){var t;return mt.some(function(n){var a=n[de].options.emptyInsertThreshold;if(!(!a||Wt(n))){var r=W(n),l=e>=r.left-a&&e<=r.right+a,s=o>=r.top-a&&o<=r.bottom+a;if(l&&s)return t=n}}),t},No=function(e){function o(a,r){return function(l,s,i,d){var p=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(a==null&&(r||p))return!0;if(a==null||a===!1)return!1;if(r&&a==="clone")return a;if(typeof a=="function")return o(a(l,s,i,d),r)(l,s,i,d);var m=(r?l:s).options.group.name;return a===!0||typeof a=="string"&&a===m||a.join&&a.indexOf(m)>-1}}var t={},n=e.group;(!n||it(n)!="object")&&(n={name:n}),t.name=n.name,t.checkPull=o(n.pull,!0),t.checkPut=o(n.put),t.revertClone=n.revertClone,e.group=t},Ao=function(){!Oo&&E&&b(E,"display","none")},Po=function(){!Oo&&E&&b(E,"display","")};_t&&!Do&&document.addEventListener("click",function(e){if(ht)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ht=!1,!1},!0);var Ne=function(e){if(c){e=e.touches?e.touches[0]:e;var o=Aa(e.clientX,e.clientY);if(o){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[de]._onDragOver(t)}}},Pa=function(e){c&&c.parentNode[de]._isOutsideThisEl(e.target)};function y(e,o){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=o=De({},o),e[de]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Io(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:y.supportPointer!==!1&&"PointerEvent"in window&&!Ze,emptyInsertThreshold:5};ot.initializePlugins(this,e,t);for(var n in t)!(n in o)&&(o[n]=t[n]);No(o);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=o.forceFallback?!1:Ia,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?I(e,"pointerdown",this._onTapStart):(I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),mt.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[]),De(this,Sa())}y.prototype={constructor:y,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ve=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,n=this.options,a=n.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,i=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,d=n.filter;if($a(t),!c&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||n.disabled)&&!i.isContentEditable&&!(!this.nativeDraggable&&Ze&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=_e(s,n.draggable,t,!1),!(s&&s.animated)&&st!==s)){if(Xe=pe(s),Qe=pe(s,n.draggable),typeof d=="function"){if(d.call(this,e,s,this)){oe({sortable:o,rootEl:i,name:"filter",targetEl:s,toEl:t,fromEl:t}),re("filter",o,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(p){if(p=_e(i,p.trim(),t,!1),p)return oe({sortable:o,rootEl:p,name:"filter",targetEl:s,fromEl:t,toEl:t}),re("filter",o,{evt:e}),!0}),d)){a&&e.cancelable&&e.preventDefault();return}n.handle&&!_e(i,n.handle,t,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,o,t){var n=this,a=n.el,r=n.options,l=a.ownerDocument,s;if(t&&!c&&t.parentNode===a){var i=W(t);if(P=a,c=t,F=c.parentNode,Ae=c.nextSibling,st=t,nt=r.group,y.dragged=c,Ie={target:c,clientX:(o||e).clientX,clientY:(o||e).clientY},so=Ie.clientX-i.left,uo=Ie.clientY-i.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,c.style["will-change"]="all",s=function(){if(re("delayEnded",n,{evt:e}),y.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!ao&&n.nativeDraggable&&(c.draggable=!0),n._triggerDragStart(e,o),oe({sortable:n,name:"choose",originalEvent:e}),ue(c,r.chosenClass,!0)},r.ignore.split(",").forEach(function(d){So(c,d.trim(),It)}),I(l,"dragover",Ne),I(l,"mousemove",Ne),I(l,"touchmove",Ne),I(l,"mouseup",n._onDrop),I(l,"touchend",n._onDrop),I(l,"touchcancel",n._onDrop),ao&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),re("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(tt||Ee))){if(y.eventCanceled){this._onDrop();return}I(l,"mouseup",n._disableDelayedDrag),I(l,"touchend",n._disableDelayedDrag),I(l,"touchcancel",n._disableDelayedDrag),I(l,"mousemove",n._delayedDragTouchMoveHandler),I(l,"touchmove",n._delayedDragTouchMoveHandler),r.supportPointer&&I(l,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(s,r.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&It(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._disableDelayedDrag),O(e,"touchend",this._disableDelayedDrag),O(e,"touchcancel",this._disableDelayedDrag),O(e,"mousemove",this._delayedDragTouchMoveHandler),O(e,"touchmove",this._delayedDragTouchMoveHandler),O(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?I(document,"pointermove",this._onTouchMove):o?I(document,"touchmove",this._onTouchMove):I(document,"mousemove",this._onTouchMove):(I(c,"dragend",this),I(P,"dragstart",this._onDragStart));try{document.selection?ct(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(je=!1,P&&c){re("dragStarted",this,{evt:o}),this.nativeDraggable&&I(document,"dragover",Pa);var t=this.options;!e&&ue(c,t.dragClass,!1),ue(c,t.ghostClass,!0),y.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Ao();for(var e=document.elementFromPoint(ve.clientX,ve.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY),e!==o);)o=e;if(c.parentNode[de]._isOutsideThisEl(e),o)do{if(o[de]){var t=void 0;if(t=o[de]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);Po()}},_onTouchMove:function(e){if(Ie){var o=this.options,t=o.fallbackTolerance,n=o.fallbackOffset,a=e.touches?e.touches[0]:e,r=E&&Ye(E,!0),l=E&&r&&r.a,s=E&&r&&r.d,i=rt&&Q&&io(Q),d=(a.clientX-Ie.clientX+n.x)/(l||1)+(i?i[0]-Ot[0]:0)/(l||1),p=(a.clientY-Ie.clientY+n.y)/(s||1)+(i?i[1]-Ot[1]:0)/(s||1);if(!y.active&&!je){if(t&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(E){r?(r.e+=d-(Ct||0),r.f+=p-(Tt||0)):r={a:1,b:0,c:0,d:1,e:d,f:p};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");b(E,"webkitTransform",m),b(E,"mozTransform",m),b(E,"msTransform",m),b(E,"transform",m),Ct=d,Tt=p,ve=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!E){var e=this.options.fallbackOnBody?document.body:P,o=W(c,!0,rt,!0,e),t=this.options;if(rt){for(Q=e;b(Q,"position")==="static"&&b(Q,"transform")==="none"&&Q!==document;)Q=Q.parentNode;Q!==document.body&&Q!==document.documentElement?(Q===document&&(Q=be()),o.top+=Q.scrollTop,o.left+=Q.scrollLeft):Q=be(),Ot=io(Q)}E=c.cloneNode(!0),ue(E,t.ghostClass,!1),ue(E,t.fallbackClass,!0),ue(E,t.dragClass,!0),b(E,"transition",""),b(E,"transform",""),b(E,"box-sizing","border-box"),b(E,"margin",0),b(E,"top",o.top),b(E,"left",o.left),b(E,"width",o.width),b(E,"height",o.height),b(E,"opacity","0.8"),b(E,"position",rt?"absolute":"fixed"),b(E,"zIndex","100000"),b(E,"pointerEvents","none"),y.ghost=E,e.appendChild(E),b(E,"transform-origin",so/parseInt(E.style.width)*100+"% "+uo/parseInt(E.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,n=e.dataTransfer,a=t.options;if(re("dragStart",this,{evt:e}),y.eventCanceled){this._onDrop();return}re("setupClone",this),y.eventCanceled||(M=To(c),M.removeAttribute("id"),M.draggable=!1,M.style["will-change"]="",this._hideClone(),ue(M,this.options.chosenClass,!1),y.clone=M),t.cloneId=ct(function(){re("clone",t),!y.eventCanceled&&(t.options.removeCloneOnHide||P.insertBefore(M,c),t._hideClone(),oe({sortable:t,name:"clone"}))}),!o&&ue(c,a.dragClass,!0),o?(ht=!0,t._loopId=setInterval(t._emulateDragOver,50)):(O(document,"mouseup",t._onDrop),O(document,"touchend",t._onDrop),O(document,"touchcancel",t._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(t,n,c)),I(document,"drop",t),b(c,"transform","translateZ(0)")),je=!0,t._dragStartId=ct(t._dragStarted.bind(t,o,e)),I(document,"selectstart",t),ze=!0,Ze&&b(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,t=e.target,n,a,r,l=this.options,s=l.group,i=y.active,d=nt===s,p=l.sort,m=q||i,v,h=this,N=!1;if(Ut)return;function S(me,we){re(me,h,ye({evt:e,isOwner:d,axis:v?"vertical":"horizontal",revert:r,dragRect:n,targetRect:a,canSort:p,fromSortable:m,target:t,completed:U,onMove:function(Te,w){return lt(P,o,c,n,Te,W(Te),e,w)},changed:j},we))}function $(){S("dragOverAnimationCapture"),h.captureAnimationState(),h!==m&&m.captureAnimationState()}function U(me){return S("dragOverCompleted",{insertion:me}),me&&(d?i._hideClone():i._showClone(h),h!==m&&(ue(c,q?q.options.ghostClass:i.options.ghostClass,!1),ue(c,l.ghostClass,!0)),q!==h&&h!==y.active?q=h:h===y.active&&q&&(q=null),m===h&&(h._ignoreWhileAnimating=t),h.animateAll(function(){S("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(t===c&&!c.animated||t===o&&!t.animated)&&(Ve=null),!l.dragoverBubble&&!e.rootEl&&t!==document&&(c.parentNode[de]._isOutsideThisEl(e.target),!me&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),N=!0}function j(){ce=pe(c),Se=pe(c,l.draggable),oe({sortable:h,name:"change",toEl:o,newIndex:ce,newDraggableIndex:Se,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=_e(t,l.draggable,o,!0),S("dragOver"),y.eventCanceled)return N;if(c.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||h._ignoreWhileAnimating===t)return U(!1);if(ht=!1,i&&!l.disabled&&(d?p||(r=F!==P):q===this||(this.lastPutMode=nt.checkPull(this,i,c,e))&&s.checkPut(this,i,c,e))){if(v=this._getDirection(e,t)==="vertical",n=W(c),S("dragOverValid"),y.eventCanceled)return N;if(r)return F=P,$(),this._hideClone(),S("revert"),y.eventCanceled||(Ae?P.insertBefore(c,Ae):P.appendChild(c)),U(!0);var R=Wt(o,l.draggable);if(!R||Va(e,v,this)&&!R.animated){if(R===c)return U(!1);if(R&&o===e.target&&(t=R),t&&(a=W(t)),lt(P,o,c,n,t,a,e,!!t)!==!1)return $(),R&&R.nextSibling?o.insertBefore(c,R.nextSibling):o.appendChild(c),F=o,j(),U(!0)}else if(R&&Ra(e,v,this)){var ee=We(o,0,l,!0);if(ee===c)return U(!1);if(t=ee,a=W(t),lt(P,o,c,n,t,a,e,!1)!==!1)return $(),o.insertBefore(c,ee),F=o,j(),U(!0)}else if(t.parentNode===o){a=W(t);var _=0,T,H=c.parentNode!==o,z=!Na(c.animated&&c.toRect||n,t.animated&&t.toRect||a,v),B=v?"top":"left",te=lo(t,"top","top")||lo(c,"top","top"),ne=te?te.scrollTop:void 0;Ve!==t&&(T=a[B],et=!1,at=!z&&l.invertSwap||H),_=Fa(e,t,a,v,z?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,at,Ve===t);var L;if(_!==0){var ge=pe(c);do ge-=_,L=F.children[ge];while(L&&(b(L,"display")==="none"||L===E))}if(_===0||L===t)return U(!1);Ve=t,Ke=_;var fe=t.nextElementSibling,ae=!1;ae=_===1;var he=lt(P,o,c,n,t,a,e,ae);if(he!==!1)return(he===1||he===-1)&&(ae=he===1),Ut=!0,setTimeout(Ua,30),$(),ae&&!fe?o.appendChild(c):t.parentNode.insertBefore(c,ae?fe:t),te&&Co(te,0,ne-te.scrollTop),F=c.parentNode,T!==void 0&&!at&&(ut=Math.abs(T-W(t)[B])),j(),U(!0)}if(o.contains(c))return U(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){O(document,"mousemove",this._onTouchMove),O(document,"touchmove",this._onTouchMove),O(document,"pointermove",this._onTouchMove),O(document,"dragover",Ne),O(document,"mousemove",Ne),O(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;O(e,"mouseup",this._onDrop),O(e,"touchend",this._onDrop),O(e,"pointerup",this._onDrop),O(e,"touchcancel",this._onDrop),O(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;if(ce=pe(c),Se=pe(c,t.draggable),re("drop",this,{evt:e}),F=c&&c.parentNode,ce=pe(c),Se=pe(c,t.draggable),y.eventCanceled){this._nulling();return}je=!1,at=!1,et=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Rt(this.cloneId),Rt(this._dragStartId),this.nativeDraggable&&(O(document,"drop",this),O(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ze&&b(document.body,"user-select",""),b(c,"transform",""),e&&(ze&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),E&&E.parentNode&&E.parentNode.removeChild(E),(P===F||q&&q.lastPutMode!=="clone")&&M&&M.parentNode&&M.parentNode.removeChild(M),c&&(this.nativeDraggable&&O(c,"dragend",this),It(c),c.style["will-change"]="",ze&&!je&&ue(c,q?q.options.ghostClass:this.options.ghostClass,!1),ue(c,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:F,newIndex:null,newDraggableIndex:null,originalEvent:e}),P!==F?(ce>=0&&(oe({rootEl:F,name:"add",toEl:F,fromEl:P,originalEvent:e}),oe({sortable:this,name:"remove",toEl:F,originalEvent:e}),oe({rootEl:F,name:"sort",toEl:F,fromEl:P,originalEvent:e}),oe({sortable:this,name:"sort",toEl:F,originalEvent:e})),q&&q.save()):ce!==Xe&&ce>=0&&(oe({sortable:this,name:"update",toEl:F,originalEvent:e}),oe({sortable:this,name:"sort",toEl:F,originalEvent:e})),y.active&&((ce==null||ce===-1)&&(ce=Xe,Se=Qe),oe({sortable:this,name:"end",toEl:F,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){re("nulling",this),P=c=F=E=Ae=M=st=xe=Ie=ve=ze=ce=Se=Xe=Qe=Ve=Ke=q=nt=y.dragged=y.ghost=y.clone=y.active=null,vt.forEach(function(e){e.checked=!0}),vt.length=Ct=Tt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),Ma(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,t=this.el.children,n=0,a=t.length,r=this.options;n<a;n++)o=t[n],_e(o,r.draggable,this.el,!1)&&e.push(o.getAttribute(r.dataIdAttr)||Ba(o));return e},sort:function(e,o){var t={},n=this.el;this.toArray().forEach(function(a,r){var l=n.children[r];_e(l,this.options.draggable,n,!1)&&(t[a]=l)},this),o&&this.captureAnimationState(),e.forEach(function(a){t[a]&&(n.removeChild(t[a]),n.appendChild(t[a]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return _e(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(o===void 0)return t[e];var n=ot.modifyOption(this,e,o);typeof n<"u"?t[e]=n:t[e]=o,e==="group"&&No(t)},destroy:function(){re("destroy",this);var e=this.el;e[de]=null,O(e,"mousedown",this._onTapStart),O(e,"touchstart",this._onTapStart),O(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(O(e,"dragover",this),O(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),mt.splice(mt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!xe){if(re("hideClone",this),y.eventCanceled)return;b(M,"display","none"),this.options.removeCloneOnHide&&M.parentNode&&M.parentNode.removeChild(M),xe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(xe){if(re("showClone",this),y.eventCanceled)return;c.parentNode==P&&!this.options.group.revertClone?P.insertBefore(M,c):Ae?P.insertBefore(M,Ae):P.appendChild(M),this.options.group.revertClone&&this.animate(c,M),b(M,"display",""),xe=!1}}};function Ma(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function lt(e,o,t,n,a,r,l,s){var i,d=e[de],p=d.options.onMove,m;return window.CustomEvent&&!Ee&&!tt?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=o,i.from=e,i.dragged=t,i.draggedRect=n,i.related=a||o,i.relatedRect=r||W(o),i.willInsertAfter=s,i.originalEvent=l,e.dispatchEvent(i),p&&(m=p.call(d,i,l)),m}function It(e){e.draggable=!1}function Ua(){Ut=!1}function Ra(e,o,t){var n=W(We(t.el,0,t.options,!0)),a=10;return o?e.clientX<n.left-a||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-a||e.clientY<n.bottom&&e.clientX<n.left}function Va(e,o,t){var n=W(Wt(t.el,t.options.draggable)),a=10;return o?e.clientX>n.right+a||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+a}function Fa(e,o,t,n,a,r,l,s){var i=n?e.clientY:e.clientX,d=n?t.height:t.width,p=n?t.top:t.left,m=n?t.bottom:t.right,v=!1;if(!l){if(s&&ut<d*a){if(!et&&(Ke===1?i>p+d*r/2:i<m-d*r/2)&&(et=!0),et)v=!0;else if(Ke===1?i<p+ut:i>m-ut)return-Ke}else if(i>p+d*(1-a)/2&&i<m-d*(1-a)/2)return ja(o)}return v=v||l,v&&(i<p+d*r/2||i>m-d*r/2)?i>p+d/2?1:-1:0}function ja(e){return pe(c)<pe(e)?1:-1}function Ba(e){for(var o=e.tagName+e.className+e.src+e.href+e.textContent,t=o.length,n=0;t--;)n+=o.charCodeAt(t);return n.toString(36)}function $a(e){vt.length=0;for(var o=e.getElementsByTagName("input"),t=o.length;t--;){var n=o[t];n.checked&&vt.push(n)}}function ct(e){return setTimeout(e,0)}function Rt(e){return clearTimeout(e)}_t&&I(document,"touchmove",function(e){(y.active||je)&&e.cancelable&&e.preventDefault()});y.utils={on:I,off:O,css:b,find:So,is:function(e,o){return!!_e(e,o,e,!1)},extend:Da,throttle:xo,closest:_e,toggleClass:ue,clone:To,index:pe,nextTick:ct,cancelNextTick:Rt,detectDirection:Io,getChild:We};y.get=function(e){return e[de]};y.mount=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];o[0].constructor===Array&&(o=o[0]),o.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(y.utils=ye(ye({},y.utils),n.utils)),ot.mount(n)})};y.create=function(e,o){return new y(e,o)};y.version=ya;var Y=[],Ge,Vt,Ft=!1,Nt,At,gt,qe;function Xa(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this))}return e.prototype={dragStarted:function(o){var t=o.originalEvent;this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):this.options.supportPointer?I(document,"pointermove",this._handleFallbackAutoScroll):t.touches?I(document,"touchmove",this._handleFallbackAutoScroll):I(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var t=o.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):(O(document,"pointermove",this._handleFallbackAutoScroll),O(document,"touchmove",this._handleFallbackAutoScroll),O(document,"mousemove",this._handleFallbackAutoScroll)),po(),dt(),Ea()},nulling:function(){gt=Vt=Ge=Ft=qe=Nt=At=null,Y.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,t){var n=this,a=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(a,r);if(gt=o,t||this.options.forceAutoScrollFallback||tt||Ee||Ze){Pt(o,this.options,l,t);var s=Ce(l,!0);Ft&&(!qe||a!==Nt||r!==At)&&(qe&&po(),qe=setInterval(function(){var i=Ce(document.elementFromPoint(a,r),!0);i!==s&&(s=i,dt()),Pt(o,n.options,i,t)},10),Nt=a,At=r)}else{if(!this.options.bubbleScroll||Ce(l,!0)===be()){dt();return}Pt(o,this.options,Ce(l,!1),!1)}}},De(e,{pluginName:"scroll",initializeByDefault:!0})}function dt(){Y.forEach(function(e){clearInterval(e.pid)}),Y=[]}function po(){clearInterval(qe)}var Pt=xo(function(e,o,t,n){if(o.scroll){var a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,l=o.scrollSensitivity,s=o.scrollSpeed,i=be(),d=!1,p;Vt!==t&&(Vt=t,dt(),Ge=o.scroll,p=o.scrollFn,Ge===!0&&(Ge=Ce(t,!0)));var m=0,v=Ge;do{var h=v,N=W(h),S=N.top,$=N.bottom,U=N.left,j=N.right,R=N.width,ee=N.height,_=void 0,T=void 0,H=h.scrollWidth,z=h.scrollHeight,B=b(h),te=h.scrollLeft,ne=h.scrollTop;h===i?(_=R<H&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),T=ee<z&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(_=R<H&&(B.overflowX==="auto"||B.overflowX==="scroll"),T=ee<z&&(B.overflowY==="auto"||B.overflowY==="scroll"));var L=_&&(Math.abs(j-a)<=l&&te+R<H)-(Math.abs(U-a)<=l&&!!te),ge=T&&(Math.abs($-r)<=l&&ne+ee<z)-(Math.abs(S-r)<=l&&!!ne);if(!Y[m])for(var fe=0;fe<=m;fe++)Y[fe]||(Y[fe]={});(Y[m].vx!=L||Y[m].vy!=ge||Y[m].el!==h)&&(Y[m].el=h,Y[m].vx=L,Y[m].vy=ge,clearInterval(Y[m].pid),(L!=0||ge!=0)&&(d=!0,Y[m].pid=setInterval(function(){n&&this.layer===0&&y.active._onTouchMove(gt);var ae=Y[this.layer].vy?Y[this.layer].vy*s:0,he=Y[this.layer].vx?Y[this.layer].vx*s:0;typeof p=="function"&&p.call(y.dragged.parentNode[de],he,ae,e,gt,Y[this.layer].el)!=="continue"||Co(Y[this.layer].el,he,ae)}.bind({layer:m}),24))),m++}while(o.bubbleScroll&&v!==i&&(v=Ce(v,!1)));Ft=d}},30),Mo=function(e){var o=e.originalEvent,t=e.putSortable,n=e.dragEl,a=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(o){var i=t||a;l();var d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,p=document.elementFromPoint(d.clientX,d.clientY);s(),i&&!i.el.contains(p)&&(r("spill"),this.onSpill({dragEl:n,putSortable:t}))}};function Lt(){}Lt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var n=We(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(o,n):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:Mo};De(Lt,{pluginName:"revertOnSpill"});function Ht(){}Ht.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,n=t||this.sortable;n.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),n.animateAll()},drop:Mo};De(Ht,{pluginName:"removeOnSpill"});y.mount(new Xa);y.mount(Ht,Lt);function Ya(e){return e==null?e:JSON.parse(JSON.stringify(e))}function Wa(e){$t()&&xn(e)}function La(e){$t()?Cn(e):e()}const fo="__CLONE__DRAGGABLE__ELEMENT__NODE__";function jt(...e){var o,t;const n=(o=$t())==null?void 0:o.proxy,a=e[0];let[,r,l]=e;Array.isArray(D(r))||(l=r,r=null);let s=null;const{immediate:i=!0,clone:d=Ya}=(t=D(l))!=null?t:{};function p(_){var T;_.item[fo]=d(D((T=D(r))==null?void 0:T[_.oldIndex]))}function m(_){const T=_.item[fo];ca(T)||(Et(_.item),ua(D(r),_.newIndex,T))}function v(_){const{from:T,item:H,oldIndex:z,pullMode:B,clone:te}=_;if(B==="clone"){oo(T,H,z),Et(te);return}sa(D(r),z)}function h(_){const{from:T,item:H,oldIndex:z,newIndex:B}=_;Et(H),oo(T,H,z),ra(D(r),z,B)}const N={onUpdate:h,onStart:p,onAdd:m,onRemove:v};function S(_){const T=D(a);return _||(_=da(T)?pa(T,n==null?void 0:n.$el):T),_&&!ma(_)&&(_=_.$el),_||aa("Root element not found"),_}function $(){var _;const T=(_=D(l))!=null?_:{},H=yo(T,["immediate","clone"]);return ha(r===null?{}:N,H)}const U=_=>{_=S(_),s&&j.destroy(),s=new y(_,$())};kn(l,()=>{s&&va($(),(_,T)=>{s==null||s.option(_,T)})},{deep:!0});const j={option:(_,T)=>s==null?void 0:s.option(_,T),destroy:()=>{s==null||s.destroy(),s=null},save:()=>s==null?void 0:s.save(),toArray:()=>s==null?void 0:s.toArray(),closest:(..._)=>s==null?void 0:s.closest(..._)},R=()=>j==null?void 0:j.option("disabled",!0),ee=()=>j==null?void 0:j.option("disabled",!1);return La(()=>{i&&U()}),Wa(j.destroy),$e({start:U,pause:R,resume:ee},j)}const Bt=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],Ha=["onUpdate","onStart","onAdd","onRemove","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target",...Bt.map(e=>`on${e.replace(/^\S/,o=>o.toUpperCase())}`)],za=Dn({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:Ha,emits:["update:modelValue",...Bt],setup(e,{slots:o,emit:t,expose:n}){const a=En(),r=Bt.reduce((p,m)=>{const v=`on${m.replace(/^\S/,h=>h.toUpperCase())}`;return p[v]=h=>t(m,h),p},{}),l=qt(()=>{const p=Sn(e),m=yo(p,["modelValue"]),v=Object.entries(m).reduce((h,[N,S])=>{const $=D(S);return $!==void 0&&(h[N]=$),h},{});return $e($e({},r),ia($e($e({},a),v)))}),s=qt({get:()=>e.modelValue,set:p=>t("update:modelValue",p)}),i=ie(),d=Xt(jt(e.target||i,s,l));return n(d),()=>{if(o.default)return ho(e.tag||"div",{ref:i},o.default(d))}}});const Ga={class:"draggable-item-content"},qa={key:0},Za={key:1},Ja={key:2},Qa={key:3},Ka={key:4},er={key:5},tr={key:0,class:"ui-special-item-container"},or={__name:"UIDesign",props:{modelValue:{}},emits:["update:modelValue"],setup(e){const o=Tn(e,"modelValue"),{t}=mo(),n=On(o.value),a=Xt(n),r=ie(a.inputFields),l=ie(a.outputNodes),s=ie(a.triggerNodes),i=ie([{id:"typography-paragraph",required:!0,placeholder:t("components.workspace.uiDesign.typography-paragraph.placeholder"),show:!1,multiline:!0,value:"",password:!1,name:"typography-paragraph",display_name:"typography-paragraph",type:"str",clear_after_run:!0,list:!1,field_type:"typography-paragraph"}]),d=()=>{o.value.data.ui={inputFields:r.value,outputNodes:l.value}},p=ie(!1),m=ie();jt(m,r,{animation:150,ghostClass:"ghost",handle:".handle",group:{name:"fields",pull:!1},onStart:()=>{p.value=!0},onAdd:()=>{d()},onEnd:()=>{d(),Zt(()=>{p.value=!1})}});const v=ie();jt(v,l,{animation:150,ghostClass:"ghost",handle:".handle",group:{name:"fields",pull:!1},onStart:()=>{p.value=!0},onAdd:()=>{d()},onEnd:()=>{d(),Zt(()=>{p.value=!1})}});const h=(N,S)=>{N.splice(S,1),d()};return(N,S)=>{const $=C("a-menu-item"),U=C("a-tooltip"),j=C("a-menu"),R=C("a-layout-sider"),ee=C("a-typography-title"),_=C("a-select"),T=C("a-textarea"),H=C("a-input"),z=C("a-input-number"),B=C("a-checkbox"),te=C("a-form-item"),ne=C("a-col"),L=C("a-row"),ge=C("a-form"),fe=C("a-divider"),ae=C("a-button"),he=C("a-popconfirm"),me=C("a-space"),we=C("cron-ant"),Te=C("a-card"),w=C("a-typography-paragraph"),k=C("a-layout-content"),J=C("a-layout"),se=In("highlight");return x(),X(J,{class:"ui-design-layout","has-sider":"",style:{height:"100%","min-height":"calc(100vh - 40px - 40px)"}},{default:g(()=>[f(R,{style:{overflow:"auto",backgroundColor:"#fff"},class:"custom-scrollbar"},{default:g(()=>[f(j,{theme:"light",mode:"inline",ref:"siderMenu"},{default:g(()=>[f(D(za),{modelValue:i.value,"onUpdate:modelValue":S[0]||(S[0]=u=>i.value=u),animation:"150",group:{name:"fields",pull:"clone",put:!1},sort:!1},{default:g(()=>[(x(!0),Z(Pe,null,Be(i.value,(u,V)=>(x(),X(U,{key:`node-${V}`,title:D(t)(`components.workspace.uiDesign.${u.name}.tip`),placement:"right"},{default:g(()=>[f($,{class:"draggable-menu-item",id:u.id},{default:g(()=>[f(D(Dt)),Me("span",null,K(D(t)(`components.workspace.uiDesign.${u.name}.title`)),1)]),_:2},1032,["id"])]),_:2},1032,["title"]))),128))]),_:1},8,["modelValue"])]),_:1},512)]),_:1}),f(J,{style:{"background-color":"#fff"}},{default:g(()=>[f(k,{style:{margin:"24px 16px 0",overflow:"initial"}},{default:g(()=>[f(L,{gutter:[16,16]},{default:g(()=>[f(ne,{xxl:6,xl:8,lg:10,md:24},{default:g(()=>[f(L,{gutter:[16,16]},{default:g(()=>[f(ee,{level:3},{default:g(()=>[f(D(Wn),{class:"text-primary"}),le(" "+K(D(t)("workspace.workflowSpace.inputs")),1)]),_:1}),f(ne,{span:24},{default:g(()=>[f(ge,{layout:"vertical",ref_key:"inputFieldsEl",ref:m},{default:g(()=>[(x(!0),Z(Pe,null,Be(r.value,(u,V)=>(x(),Z("div",{class:"draggable-item",key:`field-${u}-${V}`},[f(D(Dt),{class:"handle"}),D(Nn).includes(u.field_type)?Fe("",!0):(x(),X(te,{key:0,class:"draggable-item-content"},{label:g(()=>[le(K(u.display_name),1)]),default:g(()=>[u.category=="llms"&&u=="temperature"?(x(),X(Jn,{key:0,modelValue:u.value,"onUpdate:modelValue":A=>u.value=A},null,8,["modelValue","onUpdate:modelValue"])):u.field_type=="select"?(x(),X(_,{key:1,value:u.value,"onUpdate:value":A=>u.value=A,options:u.options},null,8,["value","onUpdate:value","options"])):u.field_type=="textarea"?(x(),X(T,{key:2,value:u.value,"onUpdate:value":A=>u.value=A,autoSize:!0,showCount:!0,placeholder:u.placeholder},null,8,["value","onUpdate:value","placeholder"])):u.field_type=="input"?(x(),X(H,{key:3,value:u.value,"onUpdate:value":A=>u.value=A,placeholder:u.placeholder},null,8,["value","onUpdate:value","placeholder"])):u.field_type=="number"?(x(),X(z,{key:4,value:u.value,"onUpdate:value":A=>u.value=A,placeholder:u.placeholder},null,8,["value","onUpdate:value","placeholder"])):u.field_type=="checkbox"?(x(),X(B,{key:5,checked:u.value,"onUpdate:checked":A=>u.value=A},null,8,["checked","onUpdate:checked"])):u.field_type=="file"?(x(),X(vo,{key:6,modelValue:u.value,"onUpdate:modelValue":A=>u.value=A},null,8,["modelValue","onUpdate:modelValue"])):u.field_type=="list"?(x(),X(Hn,{key:7,modelValue:u.value,"onUpdate:modelValue":A=>u.value=A},null,8,["modelValue","onUpdate:modelValue"])):Fe("",!0)]),_:2},1024)),u.field_type=="typography-paragraph"?(x(),X(L,{key:1,class:"draggable-item-content"},{default:g(()=>[f(ne,{span:24,class:"ui-special-item-container"},{default:g(()=>[f(T,{class:"ui-special-item",value:u.value,"onUpdate:value":A=>u.value=A,placeholder:u.placeholder,"auto-size":"",onChange:d},null,8,["value","onUpdate:value","placeholder"]),f(D(Jt),{class:"ui-special-item-delete",onClick:A=>h(r.value,V)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)):Fe("",!0)]))),128))]),_:1},512)]),_:1}),f(fe),f(ne,{span:24},{default:g(()=>[f(L,{gutter:[16,16]},{default:g(()=>[(x(!0),Z(Pe,null,Be(s.value,u=>(x(),X(ne,{key:`node-${u.id}`,span:24},{default:g(()=>[u.type=="ButtonTrigger"?(x(),X(ae,{key:0,type:"primary",block:""},{default:g(()=>[le(K(u.data.template.button_text.value),1)]),_:2},1024)):u.type=="ScheduleTrigger"?(x(),X(Te,{key:1,title:D(t)("components.nodes.triggers.ScheduleTrigger.schedule_settings")},{extra:g(()=>[f(me,null,{default:g(()=>[f(ae,{type:"primary"},{default:g(()=>[le(K(D(t)("components.nodes.triggers.ScheduleTrigger.save_schedule_settings")),1)]),_:1}),f(he,{title:D(t)("workspace.workflowSpace.delete_schedule_trigger_confirm")},{default:g(()=>[f(ae,{type:"primary",danger:""},{default:g(()=>[le(K(D(t)("workspace.workflowSpace.delete")),1)]),_:1})]),_:1},8,["title"])]),_:1})]),default:g(()=>[f(we,{modelValue:u.data.template.schedule.value,"onUpdate:modelValue":V=>u.data.template.schedule.value=V,"button-props":{type:"primary",shape:"round"},locale:N.language},null,8,["modelValue","onUpdate:modelValue","locale"])]),_:2},1032,["title"])):Fe("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}),f(ne,{xxl:18,xl:16,lg:14,md:24},{default:g(()=>[f(ee,{level:3,style:{display:"flex","justify-content":"space-between"}},{default:g(()=>[Me("span",null,[f(D(Ln),{class:"text-primary"}),le(" "+K(D(t)("workspace.workflowSpace.outputs")),1)])]),_:1}),f(L,{gutter:[16,16],ref_key:"outputNodesEl",ref:v},{default:g(()=>[(x(!0),Z(Pe,null,Be(l.value,(u,V)=>(x(),X(ne,{span:24,class:"draggable-item",key:`node-${u.id}-${V}`},{default:g(()=>{var A;return[f(D(Dt),{class:"handle"}),Me("div",Ga,[u.type=="Text"?(x(),Z("div",qa,[f(ee,{level:5},{default:g(()=>[le(K(u.data.template.output_title.value),1)]),_:2},1024),u.data.template.render_markdown.value?(x(),Z(Pe,{key:0},[Mt(f(D(An),{source:u.data.template.text.value,class:"markdown-body custom-hljs"},null,8,["source"]),[[se]]),f(w,{copyable:{text:u.data.template.text.value}},null,8,["copyable"])],64)):(x(),X(w,{key:1,copyable:{text:u.data.template.text.value}},{default:g(()=>[le(K(u.data.template.text.value),1)]),_:2},1032,["copyable"]))])):u.type=="Audio"?(x(),Z("div",Za,[f(zn,{audios:[(A=u.data.template.audio_url)==null?void 0:A.value]},null,8,["audios"])])):u.type=="Mindmap"?(x(),Z("div",Ja,[f(Gn,{content:u.data.template.content.value,style:{width:"100%","min-height":"50vh"}},null,8,["content"])])):u.type=="Mermaid"?(x(),Z("div",Qa,[f(qn,{content:u.data.template.content.value,style:{width:"100%","min-height":"50vh"}},null,8,["content"])])):u.type=="Echarts"?(x(),Z("div",Ka,[f(Zn,{option:u.data.template.option.value,style:{width:"100%","min-height":"50vh"}},null,8,["option"])])):(x(),Z("div",er,[u.field_type=="typography-paragraph"?(x(),Z("div",tr,[f(T,{class:"ui-special-item",value:u.value,"onUpdate:value":Ue=>u.value=Ue,placeholder:u.placeholder,"auto-size":"",onChange:d},null,8,["value","onUpdate:value","placeholder"]),f(D(Jt),{class:"ui-special-item-delete",onClick:Ue=>h(l.value,V)},null,8,["onClick"])])):Fe("",!0)]))])]}),_:2},1024))),128))]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},nr=go(or,[["__scopeId","data-v-a0138d2b"]]);const ar={key:0,class:"loading-container"},rr={key:1,class:"editor-container"},lr={class:"title-container"},ir={__name:"WorkflowEditor",setup(e){const{t:o}=mo(),t=ie(!0),n=Pn(),a=Mn(),r=n.params.workflowId,l=ie(o("workspace.workflowEditor.workflow_canvas")),s=Xt([o("workspace.workflowEditor.workflow_info"),o("workspace.workflowEditor.workflow_canvas"),o("workspace.workflowEditor.workflow_ui_design")]),i=Xn(),{userDatabases:d}=Un(i),p=Rn(),m=ie(""),v=ie({}),h=ie([]);Vn(async()=>{const w=Qt("get",{wid:r}),k=Qn("list",{}),J=await w,se=await k;if(se.status==200&&i.setUserDatabases(se.data),J.status!=200){wt.error(o("workspace.workflowSpace.get_workflow_failed")),a.push({name:"WorkflowSpaceMain"});return}v.value=J.data,v.value.data.nodes.forEach(u=>{u.category=="vectorDb"&&(u.data.template.database.options=d.value.filter(V=>V.status=="VALID").map(V=>({value:V.vid,label:V.name})))}),v.value.tags=v.value.tags.map(u=>u.tid),h.value=[...v.value.data.nodes,...v.value.data.edges],h.value.forEach(u=>{u.events={change:V=>H(),delete:V=>z(V)}}),m.value=kt(v.value),t.value=!1});const N=()=>{const w=_();v.value.data={...w,ui:v.value.data.ui||{}}},S=ie(!1),$=async()=>{S.value=!0;const w=v.value.data.ui||{},k=_();v.value.data={...k,ui:w},(await Qt("update",{wid:r,...v.value})).status==200?(wt.success(o("workspace.workflowSpace.save_success")),m.value=kt(v.value)):wt.error(o("workspace.workflowSpace.save_failed")),p.updateUserWorkflow(v.value),S.value=!1},U=()=>{const w=v.value.data.ui||{},k=_();v.value.data={...k,ui:w},m.value!=kt(v.value)?Bn.confirm({title:o("common.back"),icon:ho($n),content:o("workspace.workflowEditor.exit_not_saved_confirm"),okText:o("workspace.workflowEditor.save_and_exit"),cancelText:o("workspace.workflowEditor.exit_without_save"),onOk(){$().then(()=>{a.push({name:"WorkflowUse",params:{workflowId:r}})})},onCancel(){a.push({name:"WorkflowUse",params:{workflowId:r}})}}):a.push({name:"WorkflowUse",params:{workflowId:r}})},{addEdges:j,updateEdge:R,onConnect:ee,toObject:_}=jo();ee(w=>{w.animated=!0,w.style={strokeWidth:3,stroke:"#565656"},j([w])});const T=({edge:w,connection:k})=>{R(w,k)},H=w=>{},z=w=>{h.value=h.value.filter(k=>k.id!==w.id),h.value=h.value.filter(k=>!(k.source&&k.source===w.id||k.target&&k.target===w.id))},B=w=>{h.value=h.value.filter(k=>!(k.source===w.edge.source&&k.target===w.edge.target&&k.sourceHandle===w.edge.sourceHandle&&k.targetHandle===w.edge.targetHandle))};let te=null;const ne=w=>{te=w};let L=null;const ge=w=>{w.dataTransfer.setData("nodeType",w.target.id)},fe=w=>{const k=w.srcElement.id,J=Te[k],se=yn(),u=JSON.parse(JSON.stringify(me[k].props.templateData));u.description=o(`components.nodes.${J}.${k}.description`),Object.keys(u.template).forEach(Oe=>{u.template[Oe].display_name=o(`components.nodes.${J}.${k}.${Oe}`)});const V=L.getBoundingClientRect(),{x:A,y:Ue,zoom:Le}=te.viewport.value,He=w.clientX-V.left,bt=w.clientY-V.top,yt={id:se,type:k,category:J,position:{x:(He-A)/Le,y:(bt-Ue)/Le},data:u,events:{change:Oe=>H(),delete:Oe=>z(Oe)}};h.value.push(yt)},ae=w=>{w.preventDefault(),L=w.target},he=Object.assign({"/src/components/nodes/controlFlows/Conditional.vue":Bo,"/src/components/nodes/controlFlows/Empty.vue":$o,"/src/components/nodes/controlFlows/RandomChoice.vue":Xo,"/src/components/nodes/fileProcessing/FileLoader.vue":Yo,"/src/components/nodes/imageGeneration/StableDiffusion.vue":Wo,"/src/components/nodes/llms/ChatGLM.vue":Lo,"/src/components/nodes/llms/OpenAI.vue":Ho,"/src/components/nodes/outputs/Document.vue":zo,"/src/components/nodes/outputs/Echarts.vue":Go,"/src/components/nodes/outputs/Email.vue":qo,"/src/components/nodes/outputs/Mermaid.vue":Zo,"/src/components/nodes/outputs/Mindmap.vue":Jo,"/src/components/nodes/outputs/Text.vue":Qo,"/src/components/nodes/textProcessing/ListRender.vue":Ko,"/src/components/nodes/textProcessing/MarkdownToHtml.vue":en,"/src/components/nodes/textProcessing/TemplateCompose.vue":tn,"/src/components/nodes/textProcessing/TextInOut.vue":on,"/src/components/nodes/textProcessing/TextSplitters.vue":nn,"/src/components/nodes/tools/ImageSearch.vue":an,"/src/components/nodes/tools/ProgrammingFunction.vue":rn,"/src/components/nodes/triggers/ButtonTrigger.vue":ln,"/src/components/nodes/vectorDb/AddData.vue":sn,"/src/components/nodes/vectorDb/DeleteData.vue":un,"/src/components/nodes/vectorDb/Search.vue":cn,"/src/components/nodes/webCrawlers/BilibiliCrawler.vue":dn,"/src/components/nodes/webCrawlers/TextCrawler.vue":pn,"/src/components/nodes/webCrawlers/YoutubeCrawler.vue":fn}),me={},we={},Te={};return Object.entries(he).forEach(([w,k])=>{const J=w.match(/\/([^/]+)\.vue$/)[1];me[J]=Fn(k.default);const se=w.match(/\/([^/]+)\/[^/]+\.vue$/)[1];we[se]||(we[se]=[]),we[se].push(J),Te[J]=se}),(w,k)=>{const J=C("a-spin"),se=C("a-typography-link"),u=C("a-col"),V=C("a-typography-text"),A=C("a-segmented"),Ue=C("a-button"),Le=C("a-row"),He=C("a-divider"),bt=C("a-menu-item"),yt=C("a-sub-menu"),Oe=C("a-menu"),Uo=C("a-layout-sider"),Ro=C("a-layout-content"),zt=C("a-layout");return t.value?(x(),Z("div",ar,[f(J,{size:"large"})])):(x(),Z("div",rr,[Me("div",lr,[f(Le,{type:"flex",align:"middle",justify:"space-between",gutter:[16,16],style:{width:"100%"}},{default:g(()=>[f(u,{flex:"0 0"},{default:g(()=>[f(se,{onClick:U,style:{"text-wrap":"nowrap"}},{default:g(()=>[f(D(jn)),le(" "+K(D(o)("common.back")),1)]),_:1})]),_:1}),f(u,{flex:"0 0"},{default:g(()=>[f(V,{class:"title",editable:{triggerType:["text","icon"]},content:v.value.title,"onUpdate:content":k[0]||(k[0]=G=>v.value.title=G)},null,8,["content"])]),_:1}),f(u,{flex:"1 0",style:{display:"flex","justify-content":"center"}},{default:g(()=>[f(A,{value:l.value,"onUpdate:value":k[1]||(k[1]=G=>l.value=G),options:s,onChange:N},null,8,["value","options"])]),_:1}),f(u,{flex:"0 0",style:{display:"flex","justify-content":"end"}},{default:g(()=>[f(Ue,{type:"primary",onClick:$,"confirm-loading":S.value},{default:g(()=>[le(K(D(o)("common.save")),1)]),_:1},8,["confirm-loading"])]),_:1})]),_:1})]),Mt(Me("div",null,[f(Le,{justify:"center"},{default:g(()=>[f(u,{lg:10,md:12,sm:18,xs:24},{default:g(()=>[f(He,null,{default:g(()=>[le(K(D(o)("workspace.workflowEditor.tags")),1)]),_:1}),f(hn,{modelValue:v.value.tags,"onUpdate:modelValue":k[2]||(k[2]=G=>v.value.tags=G)},null,8,["modelValue"]),f(He,null,{default:g(()=>[le(K(D(o)("workspace.workflowEditor.brief_info")),1)]),_:1}),f(Yn,{markdown:v.value.brief,"onUpdate:markdown":k[3]||(k[3]=G=>v.value.brief=G)},null,8,["markdown"]),f(He,null,{default:g(()=>[le(K(D(o)("workspace.workflowEditor.brief_images")),1)]),_:1}),Me("div",null,[f(vo,{modelValue:v.value.images,"onUpdate:modelValue":k[4]||(k[4]=G=>v.value.images=G),multiple:!0},null,8,["modelValue"])])]),_:1})]),_:1})],512),[[Kt,l.value==D(o)("workspace.workflowEditor.workflow_info")]]),Mt(f(zt,{"has-sider":"",style:{height:"100%"}},{default:g(()=>[f(Uo,{style:{overflow:"auto",backgroundColor:"#fff"},class:"custom-scrollbar"},{default:g(()=>[f(Oe,{theme:"light",mode:"inline"},{default:g(()=>[(x(!0),Z(Pe,null,Be(Object.keys(we),(G,Vo)=>(x(),X(yt,{key:`category-${Vo}`},{title:g(()=>[le(K(D(o)(`components.nodes.${G}.title`)),1)]),default:g(()=>[(x(!0),Z(Pe,null,Be(we[G],(Gt,Fo)=>(x(),X(bt,{id:Gt,draggable:"true",onDragstart:ge,onDragend:fe,key:`node-${Fo}`},{default:g(()=>[Me("span",null,K(D(o)(`components.nodes.${G}.${Gt}.title`)),1)]),_:2},1032,["id"]))),128))]),_:2},1024))),128))]),_:1})]),_:1}),f(zt,null,{default:g(()=>[f(Ro,{style:{margin:"24px 16px 0",overflow:"initial"}},{default:g(()=>[f(D(mn),{modelValue:h.value,"onUpdate:modelValue":k[5]||(k[5]=G=>h.value=G),"default-edge-options":{type:"smoothstep"},"node-types":me,edgesUpdatable:!0,onEdgeUpdate:T,onPaneReady:ne,onDragover:ae,onEdgeDoubleClick:B,"snap-to-grid":!0,"snap-grid":[20,20]},{default:g(()=>[f(D(vn)),f(D(gn)),f(D(_n),{variant:D(bn).Dots},null,8,["variant"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[Kt,l.value==D(o)("workspace.workflowEditor.workflow_canvas")]]),l.value==D(o)("workspace.workflowEditor.workflow_ui_design")?(x(),X(nr,{key:0,modelValue:v.value,"onUpdate:modelValue":k[6]||(k[6]=G=>v.value=G)},null,8,["modelValue"])):Fe("",!0)]))}}},br=go(ir,[["__scopeId","data-v-e020e3e4"]]);export{br as default};
