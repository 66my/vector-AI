import{I as C,c as e,_ as G,W as J,s as b,aa as Q,x as X,aR as F,r as ee,K as M,j as i,M as u,f,B as n,aS as ae,T as r,D as m,C as te,H as le,Y as W,Z as H,h as I,F as K,aP as ie,$ as oe}from"./index-DwTab_5X.js";import{M as ne}from"./More-DBq0BXvd.js";const se=C("mail",!1,function(t){return e("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},[e("path",{d:"M4 39H44V24V9H24H4V24V39Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M4 9L24 24L44 9",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M24 9H4V24",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M44 24V9H24",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null)])}),_e=C("menu-fold-one",!0,function(t){return e("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},[e("path",{d:"M8 10.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M24 19.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M24 28.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M8 37.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M8 19L16 24L8 29V19Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linejoin":t.strokeLinejoin},null)])}),de=C("menu-unfold-one",!0,function(t){return e("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},[e("path",{d:"M8 10.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M24 19.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M24 28.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M8 37.5H40",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),e("path",{d:"M16 19L8 24L16 29V19Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linejoin":t.strokeLinejoin},null)])}),ue={class:"collapse-button"},pe={__name:"Settings",setup(t){const{t:s}=J(),c=b(!1),S=Q();X(async()=>{const _=await F("get",{});S.setSetting(_.data),a.id=_.data.id,a.data.openai_api_type=_.data.data.openai_api_type||"open_ai",a.data.openai_api_key=_.data.data.openai_api_key||"",a.data.openai_api_base=_.data.data.openai_api_base||"https://api.openai.com/v1",a.data.azure_api_key=_.data.data.azure_api_key||"",a.data.azure_endpoint=_.data.data.azure_endpoint||"",a.data.azure_gpt_35_deployment_id=_.data.data.azure_gpt_35_deployment_id||"",a.data.azure_gpt_4_deployment_id=_.data.data.azure_gpt_4_deployment_id||"",a.data.azure_gpt_4v_deployment_id=_.data.data.azure_gpt_4v_deployment_id||"",a.data.openai_embedding_engine=_.data.data.openai_embedding_engine||"",a.data.moonshot_api_base=_.data.data.moonshot_api_base||"https://api.moonshot.cn/v1",a.data.moonshot_api_key=_.data.data.moonshot_api_key||"",a.data.zhipuai_api_base=_.data.data.zhipuai_api_base||"https://open.bigmodel.cn/api/paas/v4/",a.data.zhipuai_api_key=_.data.data.zhipuai_api_key||"",a.data.anthropic_api_base=_.data.data.anthropic_api_base||"https://api.anthropic.com/v1",a.data.anthropic_api_key=_.data.data.anthropic_api_key||"",a.data.output_folder=_.data.data.output_folder||"./",a.data.email_user=_.data.data.email_user||"",a.data.email_password=_.data.data.email_password||"",a.data.email_smtp_host=_.data.data.email_smtp_host||"",a.data.email_smtp_port=_.data.data.email_smtp_port||"",a.data.email_smtp_ssl=_.data.data.email_smtp_ssl||!0,a.data.pexels_api_key=_.data.data.pexels_api_key||"",a.data.stable_diffusion_base_url=_.data.data.stable_diffusion_base_url||"http://127.0.0.1:7860",a.data.use_system_proxy=_.data.data.use_system_proxy||!0,c.value=!1});const a=ee({id:1,data:{openai_api_type:"openai",openai_api_key:"",openai_api_base:"https://api.openai.com/v1",azure_api_key:"",azure_endpoint:"",azure_gpt_35_deployment_id:"",azure_gpt_4_deployment_id:"",azure_gpt_4v_deployment_id:"",openai_embedding_engine:"",moonshot_api_base:"https://api.moonshot.cn/v1",moonshot_api_key:"",zhipuai_api_base:"https://open.bigmodel.cn/api/paas/v4/",zhipuai_api_key:"",anthropic_api_base:"https://api.anthropic.com/v1",anthropic_api_key:"",output_folder:"./",email_user:"",email_password:"",email_smtp_host:"",email_smtp_port:"",email_smtp_ssl:!0,pexels_api_key:"",stable_diffusion_base_url:"http://127.0.0.1:7860",use_system_proxy:!0}}),Z=async()=>{try{const _=await window.pywebview.api.open_folder_dialog(a.data.output_folder);if(!_)return;a.data.output_folder=_[0]}catch(_){console.log(_)}},h=b(!1),z=async()=>{h.value=!0,await S.setSetting(ie(a)),await F("update",a),oe.success(s("settings.save_success")),h.value=!1},v=b(["llms"]),g=b(!1),w=b(!1),V=_=>{g.value=_},$=async({key:_})=>{v.value=[_]};return(_,l)=>{const x=u("a-menu-item"),y=u("a-button"),D=u("a-menu"),N=u("a-layout-sider"),B=u("a-radio-button"),R=u("a-radio-group"),d=u("a-form-item"),k=u("a-input-password"),p=u("a-input"),L=u("a-divider"),j=u("a-form"),U=u("a-card"),O=u("a-input-number"),P=u("a-switch"),T=u("a-typography-text"),Y=u("a-flex"),A=u("a-checkbox"),E=u("a-layout-content"),q=u("a-layout");return f(),M(q,{class:"main-container"},{default:i(()=>[e(N,{class:"sider-menu",defaultCollapsed:g.value,collapsed:g.value,"onUpdate:collapsed":l[2]||(l[2]=o=>g.value=o),trigger:null,collapsible:"",collapsedWidth:48,onCollapse:V,breakpoint:"lg",theme:"light",style:le({overflowY:w.value?"auto":"hidden"}),onMouseover:l[3]||(l[3]=o=>w.value=!0),onMouseleave:l[4]||(l[4]=o=>w.value=!1)},{default:i(()=>[e(D,{selectedKeys:v.value,"onUpdate:selectedKeys":l[1]||(l[1]=o=>v.value=o),onClick:$,theme:"light",mode:"inline",style:{height:"100%"}},{default:i(()=>[e(x,{key:"llms"},{icon:i(()=>[e(n(ae))]),default:i(()=>[r(" "+m(n(s)("settings.llms")),1)]),_:1}),e(x,{key:"email"},{icon:i(()=>[e(n(se))]),default:i(()=>[r(" "+m(n(s)("settings.email_settings")),1)]),_:1}),e(x,{key:"other"},{icon:i(()=>[e(n(ne))]),default:i(()=>[r(" "+m(n(s)("settings.other")),1)]),_:1}),te("div",ue,[e(y,{type:"text",onClick:l[0]||(l[0]=o=>V(!g.value))},{default:i(()=>[g.value?(f(),M(n(_e),{key:0,class:"trigger"})):(f(),M(n(de),{key:1,class:"trigger"}))]),_:1})])]),_:1},8,["selectedKeys"])]),_:1},8,["defaultCollapsed","collapsed","style"]),e(E,null,{default:i(()=>[W(e(U,{title:n(s)("settings.llms"),loading:c.value},{extra:i(()=>[e(y,{type:"primary",onClick:z,loading:h.value},{default:i(()=>[r(m(n(s)("settings.save")),1)]),_:1},8,["loading"])]),default:i(()=>[e(j,{"label-col":{span:8},"wrapper-col":{span:16}},{default:i(()=>[e(d,{label:n(s)("settings.openai_api_type")},{default:i(()=>[e(R,{value:a.data.openai_api_type,"onUpdate:value":l[5]||(l[5]=o=>a.data.openai_api_type=o)},{default:i(()=>[e(B,{value:"open_ai"},{default:i(()=>[r(m(n(s)("settings.openai")),1)]),_:1}),e(B,{value:"azure"},{default:i(()=>[r(m(n(s)("settings.azure")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),a.data.openai_api_type=="azure"?(f(),I(K,{key:0},[e(d,{label:n(s)("settings.azure_api_key")},{default:i(()=>[e(k,{value:a.data.azure_api_key,"onUpdate:value":l[6]||(l[6]=o=>a.data.azure_api_key=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.azure_endpoint")},{default:i(()=>[e(p,{value:a.data.azure_endpoint,"onUpdate:value":l[7]||(l[7]=o=>a.data.azure_endpoint=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.azure_gpt_35_deployment_id")},{default:i(()=>[e(p,{value:a.data.azure_gpt_35_deployment_id,"onUpdate:value":l[8]||(l[8]=o=>a.data.azure_gpt_35_deployment_id=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.azure_gpt_4_deployment_id")},{default:i(()=>[e(p,{value:a.data.azure_gpt_4_deployment_id,"onUpdate:value":l[9]||(l[9]=o=>a.data.azure_gpt_4_deployment_id=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.azure_gpt_4v_deployment_id")},{default:i(()=>[e(p,{value:a.data.azure_gpt_4v_deployment_id,"onUpdate:value":l[10]||(l[10]=o=>a.data.azure_gpt_4v_deployment_id=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.openai_embedding_engine")},{default:i(()=>[e(p,{value:a.data.openai_embedding_engine,"onUpdate:value":l[11]||(l[11]=o=>a.data.openai_embedding_engine=o)},null,8,["value"])]),_:1},8,["label"])],64)):(f(),I(K,{key:1},[e(d,{label:n(s)("settings.openai_api_key")},{default:i(()=>[e(k,{value:a.data.openai_api_key,"onUpdate:value":l[12]||(l[12]=o=>a.data.openai_api_key=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.openai_api_base")},{default:i(()=>[e(p,{value:a.data.openai_api_base,"onUpdate:value":l[13]||(l[13]=o=>a.data.openai_api_base=o)},null,8,["value"])]),_:1},8,["label"])],64)),e(L),e(d,{label:n(s)("settings.moonshot_api_base")},{default:i(()=>[e(p,{value:a.data.moonshot_api_base,"onUpdate:value":l[14]||(l[14]=o=>a.data.moonshot_api_base=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.moonshot_api_key")},{default:i(()=>[e(k,{value:a.data.moonshot_api_key,"onUpdate:value":l[15]||(l[15]=o=>a.data.moonshot_api_key=o)},null,8,["value"])]),_:1},8,["label"]),e(L),e(d,{label:n(s)("settings.zhipuai_api_base")},{default:i(()=>[e(p,{value:a.data.zhipuai_api_base,"onUpdate:value":l[16]||(l[16]=o=>a.data.zhipuai_api_base=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.zhipuai_api_key")},{default:i(()=>[e(k,{value:a.data.zhipuai_api_key,"onUpdate:value":l[17]||(l[17]=o=>a.data.zhipuai_api_key=o)},null,8,["value"])]),_:1},8,["label"]),e(L),e(d,{label:n(s)("settings.anthropic_api_base")},{default:i(()=>[e(p,{value:a.data.anthropic_api_base,"onUpdate:value":l[18]||(l[18]=o=>a.data.anthropic_api_base=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.anthropic_api_key")},{default:i(()=>[e(k,{value:a.data.anthropic_api_key,"onUpdate:value":l[19]||(l[19]=o=>a.data.anthropic_api_key=o)},null,8,["value"])]),_:1},8,["label"])]),_:1})]),_:1},8,["title","loading"]),[[H,v.value=="llms"]]),W(e(U,{title:n(s)("settings.email_settings"),loading:c.value},{extra:i(()=>[e(y,{type:"primary",onClick:z},{default:i(()=>[r(m(n(s)("settings.save")),1)]),_:1})]),default:i(()=>[e(j,{"label-col":{span:8},"wrapper-col":{span:16}},{default:i(()=>[e(d,{label:n(s)("settings.email_user")},{default:i(()=>[e(p,{value:a.data.email_user,"onUpdate:value":l[20]||(l[20]=o=>a.data.email_user=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.email_password")},{default:i(()=>[e(k,{value:a.data.email_password,"onUpdate:value":l[21]||(l[21]=o=>a.data.email_password=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.email_smtp_host")},{default:i(()=>[e(p,{value:a.data.email_smtp_host,"onUpdate:value":l[22]||(l[22]=o=>a.data.email_smtp_host=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.email_smtp_port")},{default:i(()=>[e(O,{value:a.data.email_smtp_port,"onUpdate:value":l[23]||(l[23]=o=>a.data.email_smtp_port=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.email_smtp_ssl")},{default:i(()=>[e(P,{checked:a.data.email_smtp_ssl,"onUpdate:checked":l[24]||(l[24]=o=>a.data.email_smtp_ssl=o)},null,8,["checked"])]),_:1},8,["label"])]),_:1})]),_:1},8,["title","loading"]),[[H,v.value=="email"]]),W(e(U,{title:n(s)("settings.other"),loading:c.value},{extra:i(()=>[e(y,{type:"primary",onClick:z},{default:i(()=>[r(m(n(s)("settings.save")),1)]),_:1})]),default:i(()=>[e(j,{"label-col":{span:8},"wrapper-col":{span:16}},{default:i(()=>[e(d,{label:n(s)("settings.pexels_api_key")},{default:i(()=>[e(k,{value:a.data.pexels_api_key,"onUpdate:value":l[25]||(l[25]=o=>a.data.pexels_api_key=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.stable_diffusion_base_url")},{default:i(()=>[e(p,{value:a.data.stable_diffusion_base_url,"onUpdate:value":l[26]||(l[26]=o=>a.data.stable_diffusion_base_url=o)},null,8,["value"])]),_:1},8,["label"]),e(d,{label:n(s)("settings.output_folder")},{default:i(()=>[e(Y,{vertical:"",gap:"small"},{default:i(()=>[e(T,null,{default:i(()=>[r(m(a.data.output_folder),1)]),_:1}),e(y,{onClick:Z},{default:i(()=>[r(m(n(s)("settings.select_folder")),1)]),_:1})]),_:1})]),_:1},8,["label"]),e(d,{label:n(s)("settings.use_system_proxy")},{default:i(()=>[e(A,{checked:a.data.use_system_proxy,"onUpdate:checked":l[27]||(l[27]=o=>a.data.use_system_proxy=o)},null,8,["checked"])]),_:1},8,["label"])]),_:1})]),_:1},8,["title","loading"]),[[H,v.value=="other"]])]),_:1})]),_:1})}}},ke=G(pe,[["__scopeId","data-v-f44380fe"]]);export{ke as default};
