import{c as a,A as le,j as Ie,r as g,e as oe,b as Ce,ar as be,N as R,l as u,n as l,s as p,q as o,x as f,y as _,u as n,F as L,D as N,p as k,$ as Ze,U as Xe,J as Se,K as Ye,H as Ke,I as et,L as tt,M as te,k as ue,m as at,z as H,v as Z,G as z,V as ae,Q as ie,C as ot,as as lt,at as Oe}from"./index-9a6d4377.js";import{u as rt}from"./userDatabase-c7dcfab8.js";import{F as nt,T as st,_ as ct,a as ut,b as it,c as pt,d as dt}from"./EchartsRenderer-78b9c634.js";import{_ as _t}from"./UploaderFieldUse-9c05f972.js";import{_ as ft}from"./TemperatureInput-72039484.js";import{F as De,C as mt}from"./FieldTimeOutlined-a797fe01.js";import{d as wt}from"./database-07243708.js";import{_ as vt}from"./_plugin-vue_export-helper-c27b6911.js";var kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 305H624V192c0-17.7-14.3-32-32-32H184v-40c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V640h248v113c0 17.7 14.3 32 32 32h416c17.7 0 32-14.3 32-32V337c0-17.7-14.3-32-32-32zM184 568V232h368v336H184zm656 145H504v-73h112c4.4 0 8-3.6 8-8V377h216v336z"}}]},name:"flag",theme:"outlined"};const gt=kt;function xe(c){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),r.forEach(function(d){yt(c,d,s[d])})}return c}function yt(c,e,s){return e in c?Object.defineProperty(c,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[e]=s,c}var pe=function(e,s){var r=xe({},e,s.attrs);return a(le,xe({},r,{icon:gt}),null)};pe.displayName="FlagOutlined";pe.inheritAttrs=!1;const ht=pe;var bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};const St=bt;function Re(c){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),r.forEach(function(d){Ot(c,d,s[d])})}return c}function Ot(c,e,s){return e in c?Object.defineProperty(c,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[e]=s,c}var de=function(e,s){var r=Re({},e,s.attrs);return a(le,Re({},r,{icon:St}),null)};de.displayName="FullscreenExitOutlined";de.inheritAttrs=!1;const Dt=de;var xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};const Rt=xt;function Le(c){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),r.forEach(function(d){Lt(c,d,s[d])})}return c}function Lt(c,e,s){return e in c?Object.defineProperty(c,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[e]=s,c}var _e=function(e,s){var r=Le({},e,s.attrs);return a(le,Le({},r,{icon:Rt}),null)};_e.displayName="FullscreenOutlined";_e.inheritAttrs=!1;const Ft=_e;var It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm159.6-585h-59.5c-3 0-5.8 1.7-7.1 4.4l-90.6 180H511l-90.6-180a8 8 0 00-7.1-4.4h-60.7c-1.3 0-2.6.3-3.8 1-3.9 2.1-5.3 7-3.2 10.9L457 515.7h-61.4c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V603h-81.7c-4.4 0-8 3.6-8 8v29.9c0 4.4 3.6 8 8 8h81.7V717c0 4.4 3.6 8 8 8h54.3c4.4 0 8-3.6 8-8v-68.1h82c4.4 0 8-3.6 8-8V611c0-4.4-3.6-8-8-8h-82v-41.5h82c4.4 0 8-3.6 8-8v-29.9c0-4.4-3.6-8-8-8h-62l111.1-204.8c.6-1.2 1-2.5 1-3.8-.1-4.4-3.7-8-8.1-8z"}}]},name:"pay-circle",theme:"outlined"};const Ct=It;function Fe(c){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(s).filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),r.forEach(function(d){Ut(c,d,s[d])})}return c}function Ut(c,e,s){return e in c?Object.defineProperty(c,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[e]=s,c}var fe=function(e,s){var r=Fe({},e,s.attrs);return a(le,Fe({},r,{icon:Ct}),null)};fe.displayName="PayCircleOutlined";fe.inheritAttrs=!1;const $t=fe,Et={key:1,class:"action-container"},Vt={__name:"WorkflowRunRecordsDrawer",props:{workflowId:{type:String,required:!0}},emits:["open-record"],setup(c,{emit:e}){const s=c,{t:r}=Ie(),d=g(!0),X={NOT_STARTED:"purple",QUEUED:"orange",RUNNING:"blue",FINISHED:"green",FAILED:"red"},T=g(!1),Y=async()=>{T.value=!0,await v.load({}),d.value=!1},re=()=>{T.value=!1},K=[{text:r("components.workspace.workflowRunRecordsDrawer.status_not_started"),value:"NOT_STARTED"},{text:r("components.workspace.workflowRunRecordsDrawer.status_queued"),value:"QUEUED"},{text:r("components.workspace.workflowRunRecordsDrawer.status_running"),value:"RUNNING"},{text:r("components.workspace.workflowRunRecordsDrawer.status_finished"),value:"FINISHED"},{text:r("components.workspace.workflowRunRecordsDrawer.status_failed"),value:"FAILED"}],v=oe({columns:[{title:r("components.workspace.workflowRunRecordsDrawer.start_time"),key:"start_time",dataIndex:"start_time",sorter:!0,sortDirections:["descend","ascend"],width:"156px"},{title:r("components.workspace.workflowRunRecordsDrawer.end_time"),key:"end_time",dataIndex:"end_time",sorter:!0,sortDirections:["descend","ascend"],width:"156px"},{title:r("components.workspace.workflowRunRecordsDrawer.status"),key:"status",dataIndex:"status",filters:K,width:"60px"},{title:r("common.action"),key:"action",width:"100px"}],data:[],loading:!1,current:1,pageSize:10,total:0,pagination:Ce(()=>({total:v.total,current:v.current,pageSize:v.pageSize})),handleTableChange:(C,S,x)=>{v.load({page_size:C.pageSize,page:C.current,sort_field:x.field,sort_order:x.order,status:S.status})},load:async C=>{v.loading=!0;const S=await be("list",{wid:s.workflowId,...C});S.status==200?v.data=S.data.records.map(x=>(x.start_time=x.start_time?new Date(x.start_time).toLocaleString():"-",x.end_time=x.end_time?new Date(x.end_time).toLocaleString():"-",x)):R.error(S.msg),v.total=S.data.total,v.pageSize=S.data.page_size,v.current=S.data.page,v.loading=!1}}),q=async C=>{d.value=!0;const S=await be("get",{rid:C});S.status==200?(e("open-record",S.data),T.value=!1):R.error(S.msg),d.value=!1};return(C,S)=>{const x=u("a-button"),F=u("a-tag"),P=u("a-typography-link"),j=u("a-table"),A=u("a-col"),w=u("a-row"),G=u("a-spin"),U=u("a-drawer");return l(),p(L,null,[a(x,{type:"primary",onClick:Y},{default:o(()=>[f(_(n(r)("components.workspace.workflowRunRecordsDrawer.workflows_run_records")),1)]),_:1}),a(U,{title:n(r)("components.workspace.workflowRunRecordsDrawer.my_workflows_run_records"),width:"50vw",open:T.value,onClose:re},{default:o(()=>[a(G,{spinning:d.value},{default:o(()=>[a(w,{justify:"space-between",align:"middle"},{default:o(()=>[a(A,{span:24},{default:o(()=>[a(j,{loading:v.loading,columns:v.columns,customRow:v.customRow,"data-source":v.data,pagination:v.pagination,onChange:v.handleTableChange},{headerCell:o(({column:I})=>[I.key==="start_time"?(l(),p(L,{key:0},[a(n(De)),f(" "+_(n(r)("components.workspace.workflowRunRecordsDrawer.start_time")),1)],64)):I.key==="end_time"?(l(),p(L,{key:1},[a(n(De)),f(" "+_(n(r)("components.workspace.workflowRunRecordsDrawer.end_time")),1)],64)):I.key==="status"?(l(),p(L,{key:2},[a(n(ht)),f(" "+_(n(r)("components.workspace.workflowRunRecordsDrawer.status")),1)],64)):I.key==="used_credits"?(l(),p(L,{key:3},[a(n($t)),f(" "+_(n(r)("components.workspace.workflowRunRecordsDrawer.used_credits")),1)],64)):I.key==="action"?(l(),p(L,{key:4},[a(n(mt)),f(" "+_(n(r)("common.action")),1)],64)):N("",!0)]),bodyCell:o(({column:I,record:E})=>[I.key==="status"?(l(),k(F,{key:0,color:X[E.status]},{default:o(()=>[f(_(n(r)(`components.workspace.workflowRunRecordsDrawer.status_${E.status.toLowerCase()}`)),1)]),_:2},1032,["color"])):I.key==="action"?(l(),p("div",Et,[a(P,{onClick:Ze(me=>q(E.rid),["prevent"])},{default:o(()=>[E.status==="FAILED"?(l(),p(L,{key:0},[f(_(n(r)("components.workspace.workflowRunRecordsDrawer.check_record_and_error_task")),1)],64)):(l(),p(L,{key:1},[f(_(n(r)("components.workspace.workflowRunRecordsDrawer.check_record")),1)],64))]),_:2},1032,["onClick"])])):N("",!0)]),_:1},8,["loading","columns","customRow","data-source","pagination","onChange"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1},8,["title","open"])],64)}}};const Nt={key:0,class:"space-container"},Pt=["src"],zt=["src"],Tt={key:0},jt={key:0},At={key:1},Wt={key:2},Mt={key:3},Bt={key:4},Ht={key:5},qt={key:6},Gt={key:0},Jt={__name:"WorkflowSpaceUse",setup(c){const{t:e}=Ie(),s=Xe(),{language:r,setting:d}=Se(s),X=rt(),{userDatabases:T}=Se(X),Y=g(!0),re=g(!1),K=Ye(),v=Ke(),q=et(),C=v.params.workflowId,S=g(!1),x=g(window.innerWidth<=768?"90vw":"60vw"),F=g(!1),P=g([]),j=g([]),A=g([]);tt(async()=>{const O=te("get",{wid:C}),y=wt("list",{}),D=await O,i=await y;if(i.status==200&&X.setUserDatabases(i.data),D.status!=200){R.error(e("workspace.workflowSpace.get_workflow_failed")),q.push({name:"WorkflowSpaceMain"});return}w.value=D.data,w.value.data.nodes.forEach(W=>{W.category=="vectorDb"&&(W.data.template.database.options=T.value.filter(M=>M.status=="VALID").map(M=>({value:M.vid,label:M.name})))});const h=ue(w.value),m=oe(h);P.value=m.inputFields,j.value=m.outputNodes,A.value=m.triggerNodes,G.value=JSON.parse(JSON.stringify(w.value)),Y.value=!1});const w=g({}),G=g({}),U=g(!1),I=g(null),E=g(null),me=async()=>{E.value=null,ne.value=!1;let O=!0;try{P.value.forEach(i=>{let h=!0;i.field_type!="checkbox"&&i.show&&i.required&&((i.field_type=="file"&&i.value.length==0||i.field_type=="number"&&typeof i.value!="number"||!i.value&&!i.value===0)&&(h=!1),h||(R.error(e("workspace.workflowSpace.field_is_empty",{field:i.display_name})),O=!1))})}catch{O=!1}if(!O)return;let y=JSON.parse(JSON.stringify(G.value));y.data.nodes.forEach(i=>{i.data.has_inputs&&lt(i)&&!["triggers"].includes(i.category)&&Object.keys(i.data.template).forEach(h=>{i.data.template[h].show&&(i.data.template[h].value=w.value.data.nodes.find(m=>m.id==i.id).data.template[h].value)})}),U.value=!0,y.data.setting=d.value.data;const D=await te("run",y);D.status==200?(R.success(e("workspace.workflowSpace.submit_workflow_success")),E.value=D.data.rid,I.value=setInterval(async()=>{const i=await te("check_status",{rid:E.value});if(i.status==200){R.success(e("workspace.workflowSpace.run_workflow_success")),clearInterval(I.value),U.value=!1,w.value=i.data;const h=ue(w.value),m=oe(h);P.value=m.inputFields,j.value=m.outputNodes,A.value=m.triggerNodes}else i.status==500&&(U.value=!1,R.error(e("workspace.workflowSpace.run_workflow_failed")),clearInterval(I.value))},1e3)):(R.error(e("workspace.workflowSpace.submit_workflow_failed")),U.value=!1)},Ue=async()=>{U.value=!0,(await Oe("update",{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...w.value})).status==200?R.success(e("workspace.workflowSpace.update_schedule_success")):R.error(e("workspace.workflowSpace.update_schedule_failed")),U.value=!1},we=g(!1),$e=async()=>{we.value=!0,(await Oe("delete",{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,...w.value})).status==200?R.success(e("workspace.workflowSpace.delete_schedule_success")):R.error(e("workspace.workflowSpace.delete_schedule_failed")),we.value=!1},Ee=async()=>{(await te("delete",{wid:w.value.wid})).status==200?(R.success(e("workspace.workflowSpace.delete_success")),K.deleteUserWorkflow(w.value.wid),K.deleteUserWorkflow(w.value.wid,!0),q.push({name:"WorkflowSpaceMain"})):R.error(e("workspace.workflowSpace.delete_failed"))},Ve=()=>{q.push({name:"WorkflowEditor",params:{workflowId:C}})},ne=g(!1),J=g(""),se=g(""),Ne=Ce(()=>J.value=="FINISHED"?"success":J.value=="FAILED"?"error":"info"),Pe=O=>{E.value=O.rid,J.value=O.status,w.value.data={...O.data,ui:G.value.data.ui||{}};let[y,D]=(O.data.error_task||".").split(".");y=y.split("_").map((m,W)=>W===0?m.charAt(0).toLowerCase()+m.slice(1):m.charAt(0).toUpperCase()+m.slice(1)).join(""),D=D.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(""),D=="OpenAi"?D="OpenAI":D=="ChatGlm"&&(D="ChatGLM"),se.value=`${y}.${D}`;const i=ue(w.value),h=oe(i);P.value=h.inputFields,j.value=h.outputNodes,A.value=h.triggerNodes,ne.value=!0},ze=O=>{window.pywebview.api.open_local_file(O)};return(O,y)=>{const D=u("a-skeleton"),i=u("a-typography-title"),h=u("a-typography-text"),m=u("a-divider"),W=u("a-carousel"),M=u("a-modal"),ve=u("a-typography-link"),Te=u("a-tag"),ce=u("a-space"),$=u("a-col"),Q=u("a-button"),ke=u("a-popconfirm"),B=u("a-row"),je=u("a-alert"),Ae=u("a-select"),We=u("a-textarea"),Me=u("a-input"),Be=u("a-input-number"),He=u("a-checkbox"),qe=u("a-form-item"),Ge=u("a-form"),Je=u("cron-ant"),Qe=u("a-card"),ge=u("a-tooltip"),ye=u("a-typography-paragraph"),he=u("a-spin"),ee=at("highlight");return Y.value?(l(),p("div",Nt,[a(D,{active:""})])):(l(),k(he,{key:1,spinning:re.value,class:"space-container"},{default:o(()=>[a(B,{justify:"space-between",align:"middle"},{default:o(()=>[a($,null,{default:o(()=>[a(i,null,{default:o(()=>[f(_(w.value.title),1)]),_:1}),a(ce,null,{default:o(()=>[a(h,{type:"secondary"},{default:o(()=>[f(_(n(e)("workspace.workflowSpace.update_time",{time:new Date(w.value.update_time).toLocaleString()})),1)]),_:1}),a(m,{type:"vertical"}),a(ve,{onClick:y[1]||(y[1]=t=>S.value=!0)},{default:o(()=>[f(_(n(e)("workspace.workflowSpace.brief"))+" ",1),a(M,{open:S.value,title:n(e)("workspace.workflowSpace.brief"),width:x.value,footer:null,class:"introduction-modal",onCancel:y[0]||(y[0]=t=>S.value=!1)},{default:o(()=>[a(W,{autoplay:"",arrows:"","dots-class":"slick-dots slick-thumb"},{customPaging:o(t=>[H("a",null,[H("img",{src:w.value.images[t.i]},null,8,Pt)])]),default:o(()=>[(l(!0),p(L,null,Z(w.value.images,(t,V)=>(l(),p("div",{key:V},[H("img",{src:t},null,8,zt)]))),128))]),_:1}),z(a(n(ae),{source:w.value.brief,class:"custom-scrollbar markdown-body custom-hljs"},null,8,["source"]),[[ee]])]),_:1},8,["open","title","width"])]),_:1}),a(m,{type:"vertical"}),(l(!0),p(L,null,Z(w.value.tags,(t,V)=>(l(),k(Te,{color:t.color,key:V},{default:o(()=>[f(_(t.title),1)]),_:2},1032,["color"]))),128))]),_:1})]),_:1}),a($,null,{default:o(()=>[a(ce,null,{default:o(()=>[a(Vt,{workflowId:n(C),onOpenRecord:Pe},null,8,["workflowId"]),a(Q,{type:"primary",onClick:Ve},{default:o(()=>[f(_(n(e)("workspace.workflowSpace.edit")),1)]),_:1}),a(ke,{placement:"leftTop",title:n(e)("workspace.workflowSpace.delete_confirm"),onConfirm:Ee},{default:o(()=>[a(Q,{type:"primary",danger:""},{default:o(()=>[f(_(n(e)("workspace.workflowSpace.delete")),1)]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})]),_:1}),a(m),a(B,{gutter:[16,16]},{default:o(()=>[ne.value?(l(),k($,{key:0,span:24},{default:o(()=>[a(je,{type:Ne.value,"show-icon":""},{message:o(()=>[H("span",null,_(n(e)("workspace.workflowSpace.record_status",{status:n(e)(`components.workspace.workflowRunRecordsDrawer.status_${J.value.toLowerCase()}`)})),1),a(m,{type:"vertical"}),J.value=="FAILED"&&se.value!="."?(l(),p("span",Tt,_(n(e)("workspace.workflowSpace.record_error_task",{task:n(e)("components.nodes."+se.value+".title")})),1)):N("",!0)]),_:1},8,["type"])]),_:1})):N("",!0),z(a($,{xxl:6,xl:8,lg:10,md:24},{default:o(()=>[a(B,{gutter:[16,16]},{default:o(()=>[a(i,{level:3},{default:o(()=>[a(n(nt),{class:"text-primary"}),f(" "+_(n(e)("workspace.workflowSpace.inputs")),1)]),_:1}),a($,{span:24},{default:o(()=>[a(Ge,{layout:"vertical"},{default:o(()=>[(l(!0),p(L,null,Z(P.value,(t,V)=>(l(),p("div",{key:`field-${t}-${V}`},[n(ot).includes(t.field_type)?N("",!0):(l(),k(qe,{key:0},{label:o(()=>[f(_(t.display_name),1)]),default:o(()=>[t.category=="llms"&&t=="temperature"?(l(),k(ft,{key:0,modelValue:t.value,"onUpdate:modelValue":b=>t.value=b},null,8,["modelValue","onUpdate:modelValue"])):t.field_type=="select"?(l(),k(Ae,{key:1,value:t.value,"onUpdate:value":b=>t.value=b,options:t.options},null,8,["value","onUpdate:value","options"])):t.field_type=="textarea"?(l(),k(We,{key:2,value:t.value,"onUpdate:value":b=>t.value=b,autoSize:!0,showCount:!0,placeholder:t.placeholder},null,8,["value","onUpdate:value","placeholder"])):t.field_type=="input"?(l(),k(Me,{key:3,value:t.value,"onUpdate:value":b=>t.value=b,placeholder:t.placeholder},null,8,["value","onUpdate:value","placeholder"])):t.field_type=="number"?(l(),k(Be,{key:4,value:t.value,"onUpdate:value":b=>t.value=b,placeholder:t.placeholder},null,8,["value","onUpdate:value","placeholder"])):t.field_type=="checkbox"?(l(),k(He,{key:5,checked:t.value,"onUpdate:checked":b=>t.value=b},null,8,["checked","onUpdate:checked"])):t.field_type=="file"?(l(),k(_t,{key:6,modelValue:t.value,"onUpdate:modelValue":b=>t.value=b},null,8,["modelValue","onUpdate:modelValue"])):t.field_type=="list"?(l(),k(ct,{key:7,modelValue:t.value,"onUpdate:modelValue":b=>t.value=b},null,8,["modelValue","onUpdate:modelValue"])):N("",!0)]),_:2},1024)),t.field_type=="typography-paragraph"?(l(),k(B,{key:1},{default:o(()=>[a($,{span:24,class:"ui-special-item-container"},{default:o(()=>[z(a(n(ae),{source:t.value,class:"markdown-body custom-hljs ui-special-item"},null,8,["source"]),[[ee]])]),_:2},1024)]),_:2},1024)):N("",!0)]))),128))]),_:1})]),_:1}),a(m),a($,{span:24},{default:o(()=>[a(B,{gutter:[16,16]},{default:o(()=>[(l(!0),p(L,null,Z(A.value,t=>(l(),k($,{key:`node-${t.id}`,span:24},{default:o(()=>[t.type=="ButtonTrigger"?(l(),k(Q,{key:0,type:"primary",block:"",onClick:me,loading:U.value},{default:o(()=>[f(_(t.data.template.button_text.value),1)]),_:2},1032,["loading"])):t.type=="ScheduleTrigger"?(l(),k(Qe,{key:1,title:n(e)("components.nodes.triggers.ScheduleTrigger.schedule_settings")},{extra:o(()=>[a(ce,null,{default:o(()=>[a(Q,{type:"primary",onClick:Ue,loading:U.value},{default:o(()=>[f(_(n(e)("components.nodes.triggers.ScheduleTrigger.save_schedule_settings")),1)]),_:1},8,["loading"]),a(ke,{title:n(e)("workspace.workflowSpace.delete_schedule_trigger_confirm"),onConfirm:$e},{default:o(()=>[a(Q,{type:"primary",danger:""},{default:o(()=>[f(_(n(e)("workspace.workflowSpace.delete")),1)]),_:1})]),_:1},8,["title"])]),_:1})]),default:o(()=>[a(Je,{modelValue:t.data.template.schedule.value,"onUpdate:modelValue":V=>t.data.template.schedule.value=V,"button-props":{type:"primary",shape:"round"},locale:n(r)},null,8,["modelValue","onUpdate:modelValue","locale"])]),_:2},1032,["title"])):N("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},512),[[ie,!F.value]]),a($,{xxl:F.value?24:18,xl:F.value?24:16,lg:F.value?24:14,md:24},{default:o(()=>[a(i,{level:3,style:{display:"flex","justify-content":"space-between"}},{default:o(()=>[H("span",null,[a(n(st),{class:"text-primary"}),f(" "+_(n(e)("workspace.workflowSpace.outputs")),1)]),H("span",null,[a(ge,{title:n(e)("workspace.workflowSpace.maximize_output")},{default:o(()=>[z(a(n(Ft),{onClick:y[2]||(y[2]=t=>F.value=!F.value)},null,512),[[ie,!F.value]])]),_:1},8,["title"]),a(ge,{title:n(e)("workspace.workflowSpace.normalize_output")},{default:o(()=>[z(a(n(Dt),{onClick:y[3]||(y[3]=t=>F.value=!F.value)},null,512),[[ie,F.value]])]),_:1},8,["title"])])]),_:1}),a(he,{spinning:U.value},{default:o(()=>[a(B,{gutter:[16,16]},{default:o(()=>[(l(!0),p(L,null,Z(j.value,(t,V)=>(l(),k($,{span:24,class:"draggable-item",key:`node-${t.id}-${V}`},{default:o(()=>{var b;return[t.type=="Text"?(l(),p("div",jt,[a(i,{level:5},{default:o(()=>[f(_(t.data.template.output_title.value),1)]),_:2},1024),t.data.template.render_markdown.value?(l(),p(L,{key:0},[z(a(n(ae),{source:t.data.template.text.value,class:"markdown-body custom-hljs"},null,8,["source"]),[[ee]]),a(ye,{copyable:{text:t.data.template.text.value}},null,8,["copyable"])],64)):(l(),k(ye,{key:1,copyable:{text:t.data.template.text.value}},{default:o(()=>[f(_(t.data.template.text.value),1)]),_:2},1032,["copyable"]))])):t.type=="Document"?(l(),p("div",At,[a(ve,{onClick:Qt=>ze(t.data.template.output.value)},{default:o(()=>[f(_(t.data.template.output.value),1)]),_:2},1032,["onClick"])])):t.type=="Audio"?(l(),p("div",Wt,[a(ut,{audios:[(b=t.data.template.audio_url)==null?void 0:b.value]},null,8,["audios"])])):t.type=="Mindmap"?(l(),p("div",Mt,[a(it,{content:t.data.template.content.value,style:{width:"100%","min-height":"50vh"}},null,8,["content"])])):t.type=="Mermaid"?(l(),p("div",Bt,[a(pt,{content:t.data.template.content.value,style:{width:"100%","min-height":"50vh"}},null,8,["content"])])):t.type=="Echarts"?(l(),p("div",Ht,[a(dt,{option:t.data.template.option.value,style:{width:"100%","min-height":"50vh"}},null,8,["option"])])):(l(),p("div",qt,[t.field_type=="typography-paragraph"?(l(),p("div",Gt,[z(a(n(ae),{source:t.value,class:"markdown-body custom-hljs ui-special-item"},null,8,["source"]),[[ee]])])):N("",!0)]))]}),_:2},1024))),128))]),_:1})]),_:1},8,["spinning"])]),_:1},8,["xxl","xl","lg"])]),_:1})]),_:1},8,["spinning"]))}}},la=vt(Jt,[["__scopeId","data-v-c18ffde5"]]);export{la as default};
