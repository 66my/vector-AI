import{W as z,l as v,a8 as E,a9 as G,aa as X,q as Z,al as H,Z as h,N as a,an as J,b as l,f as p,c as e,G as d,g as t,T as r,A as n,y as c,z as i,C as S,F as V,B,X as K,ao as O,a4 as Q}from"./index-BK2R8M7z.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={key:0,class:"space-container"},te={style:{"margin-bottom":"10px"}},ae={style:{"margin-bottom":"10px"}},oe=["src"],se=["src"],le={__name:"WorkflowTemplate",setup(re){const{t:s}=z(),b=v(!0),C=v(!1),D=E(),T=G(),m=X(),N=D.params.workflowTemplateId,o=v({});Z(async()=>{const u=await H("get_template",{tid:N});if(u.status!=200){h.error(s("workspace.workflowSpace.get_workflow_failed")),T.push({name:"Workspace"});return}o.value=u.data,b.value=!1});const U=async()=>{const u=await Q("create",o.value);if(u.status==200)h.success(s("workspace.workflowTemplate.add_success"));else{h.error(s("workspace.workflowTemplate.add_failed"));return}const x=o.value;m.addUserWorkflow(x),m.setUserWorkflowsTotal(m.userWorkflowsTotal+1),T.push({name:"WorkflowUse",params:{workflowId:u.data.wid}})};return(u,x)=>{const j=a("a-skeleton"),A=a("router-link"),W=a("a-breadcrumb-item"),M=a("a-breadcrumb"),P=a("a-typography-title"),f=a("a-typography-text"),w=a("a-divider"),F=a("a-tag"),k=a("a-space"),L=a("a-button"),y=a("a-col"),I=a("a-row"),R=a("a-carousel"),$=a("a-spin"),q=J("highlight");return b.value?(l(),p("div",ee,[e(j,{active:""})])):(l(),d($,{key:1,spinning:C.value,class:"space-container"},{default:t(()=>[e(M,null,{default:t(()=>[e(W,null,{default:t(()=>[e(A,{to:"/workflow?tab=official-workflow-templates"},{default:t(()=>[r(n(c(s)("workspace.workflowSpaceMain.official_workflow_template")),1)]),_:1})]),_:1}),e(W,null,{default:t(()=>[r(n(o.value.title),1)]),_:1})]),_:1}),e(I,{justify:"space-around"},{default:t(()=>[e(y,{lg:12,md:12,sm:24,xs:24},{default:t(()=>[e(P,null,{default:t(()=>[r(n(`${c(s)("workspace.workflowTemplate.template")}: ${o.value.title}`),1)]),_:1}),i("div",te,[e(k,null,{default:t(()=>[e(f,{type:"secondary"},{default:t(()=>[r(n(c(s)("common.update_time_format",{time:new Date(parseInt(o.value.update_time)).toLocaleString()})),1)]),_:1}),e(w,{type:"vertical"}),(l(!0),p(V,null,S(o.value.tags,(_,g)=>(l(),d(F,{color:_.color,key:g},{default:t(()=>[r(n(_.title),1)]),_:2},1032,["color"]))),128))]),_:1})]),i("div",ae,[e(k,null,{default:t(()=>[e(f,{type:"secondary"},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.author",{author:"VectorVein"})),1)]),_:1}),e(w,{type:"vertical"}),o.value.used_count>10?(l(),d(f,{key:0,type:"secondary"},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.used_count",{count:o.value.used_count})),1)]),_:1})):B("",!0)]),_:1})]),e(k,null,{default:t(()=>[e(L,{type:"primary",onClick:U},{default:t(()=>[r(n(c(s)("workspace.workflowTemplate.add_to_my_workflows")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(w),e(I,{justify:"space-around"},{default:t(()=>[o.value.images.length>0?(l(),d(y,{key:0,lg:12,md:12,sm:24,xs:24},{default:t(()=>[e(R,{autoplay:"",arrows:"","dots-class":"slick-dots slick-thumb"},{customPaging:t(_=>[i("a",null,[i("img",{src:o.value.images[_.i]},null,8,oe)])]),default:t(()=>[(l(!0),p(V,null,S(o.value.images,(_,g)=>(l(),p("div",{key:g},[i("img",{src:_},null,8,se)]))),128))]),_:1})]),_:1})):B("",!0),e(y,{lg:12,md:12,sm:24,xs:24},{default:t(()=>[K(e(c(O),{source:o.value.brief,class:"custom-scrollbar markdown-body custom-hljs"},null,8,["source"]),[[q]])]),_:1})]),_:1})]),_:1},8,["spinning"]))}}},ue=Y(le,[["__scopeId","data-v-724b55ea"]]);export{ue as default};
